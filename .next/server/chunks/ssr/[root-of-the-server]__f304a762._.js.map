{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/stefangajanovic/Desktop/coachbot/coachbot-codex/src/shared/Tabs.tsx"],"sourcesContent":["'use client';\n\nimport { JSX, ReactNode, useState } from 'react';\nimport { Tab, TabGroup, TabList, TabPanel, TabPanels } from '@headlessui/react';\nimport { useTranslations } from 'next-intl';\nimport { twMerge } from 'tailwind-merge';\n\nexport interface TabOption {\n  nameKey?: string;\n  name?: string;\n  listItemContent?: ReactNode | Promise<JSX.Element>;\n  content: ((props: any) => JSX.Element) | JSX.Element;\n  props?: any;\n  className?: string;\n}\n\nexport default function Tabs({\n  id,\n  tabs,\n  hideList,\n  className,\n  listClassName,\n  panelClassName,\n  tabClassName,\n  initialTabName,\n}: {\n  id?: string;\n  hideList?: boolean;\n  tabs: TabOption[];\n  className?: string;\n  listClassName?: string;\n  panelClassName?: string;\n  tabClassName?: string;\n  initialTabName?: string;\n}) {\n  const t = useTranslations();\n  const [tabIndex, setTabIndex] = useState(initialTabName ? tabs.findIndex((tab) => tab.name === initialTabName) : 0);\n\n  return (\n    <TabGroup\n      className={twMerge('flex min-h-0 flex-grow flex-col justify-between gap-y-2.5 rounded-xl', className)}\n      selectedIndex={tabIndex}\n      onChange={setTabIndex}\n    >\n      {!hideList && (\n        <TabList\n          key={id}\n          className={twMerge('flex w-full flex-row flex-nowrap rounded-xl border border-white/[2%]', listClassName)}\n        >\n          {tabs.map(({ listItemContent, nameKey, name }, index: number) => (\n            <Tab\n              key={nameKey || `tab-${index}`}\n              className={twMerge(\n                'flex flex-1 items-center justify-center rounded-xl text-light-gray focus:outline-none data-[hover]:bg-background/[44%] data-[hover]:data-[selected]:bg-background data-[selected]:bg-background data-[hover]:text-main data-[selected]:text-main',\n                tabClassName\n              )}\n            >\n              {listItemContent ? listItemContent : nameKey ? t(nameKey) : name}\n            </Tab>\n          ))}\n        </TabList>\n      )}\n      <TabPanels\n        className={twMerge('flex flex-grow rounded-xl md:overflow-y-auto md:overflow-x-hidden', panelClassName)}\n      >\n        {tabs.map(({ name, content, className }: TabOption, index: number) => (\n          <TabPanel key={`panel-${name || index}`} className={className}>\n            {typeof content === 'function' ? content({ name }) : content}\n          </TabPanel>\n        ))}\n      </TabPanels>\n    </TabGroup>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAgBe,SAAS,KAAK,EAC3B,EAAE,EACF,IAAI,EACJ,QAAQ,EACR,SAAS,EACT,aAAa,EACb,cAAc,EACd,YAAY,EACZ,cAAc,EAUf;IACC,MAAM,IAAI,CAAA,GAAA,sMAAA,CAAA,kBAAe,AAAD;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,iBAAiB,KAAK,SAAS,CAAC,CAAC,MAAQ,IAAI,IAAI,KAAK,kBAAkB;IAEjH,qBACE,8OAAC,2KAAA,CAAA,WAAQ;QACP,WAAW,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,wEAAwE;QAC3F,eAAe;QACf,UAAU;;YAET,CAAC,0BACA,8OAAC,2KAAA,CAAA,UAAO;gBAEN,WAAW,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,wEAAwE;0BAE1F,KAAK,GAAG,CAAC,CAAC,EAAE,eAAe,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,sBAC7C,8OAAC,2KAAA,CAAA,MAAG;wBAEF,WAAW,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EACf,oPACA;kCAGD,kBAAkB,kBAAkB,UAAU,EAAE,WAAW;uBANvD,WAAW,CAAC,IAAI,EAAE,OAAO;;;;;eAL7B;;;;;0BAgBT,8OAAC,2KAAA,CAAA,YAAS;gBACR,WAAW,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,qEAAqE;0BAEvF,KAAK,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAa,EAAE,sBAClD,8OAAC,2KAAA,CAAA,WAAQ;wBAAgC,WAAW;kCACjD,OAAO,YAAY,aAAa,QAAQ;4BAAE;wBAAK,KAAK;uBADxC,CAAC,MAAM,EAAE,QAAQ,OAAO;;;;;;;;;;;;;;;;AAOjD","debugId":null}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///Users/stefangajanovic/Desktop/coachbot/coachbot-codex/src/app/%28standalone%29/coach/_components/ConfigToggler.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { twMerge } from 'tailwind-merge';\n\nexport function ConfigToggler({\n  checked,\n  className,\n  onToggle,\n}: {\n  checked?: boolean;\n  className?: string;\n  onToggle: (on: boolean) => Promise<any>;\n}) {\n  const [isChecked, setIsChecked] = useState(checked);\n  const handleToggle = () => {\n    onToggle?.(!isChecked);\n    setIsChecked((prev) => !prev);\n  };\n\n  return (\n    <div className={twMerge('flex items-center gap-1', className)}>\n      <label className={'inline-flex cursor-pointer items-center'}>\n        <input type=\"checkbox\" value=\"\" className={'peer sr-only size-0'} checked={isChecked} onChange={handleToggle} />\n        <div\n          className={twMerge(\n            `peer relative h-7 w-12 rounded-full border border-light-gray bg-graphic/[6%] after:absolute after:start-[3px] after:top-[3px] after:size-5 after:rounded-full after:bg-light-gray after:transition-all after:content-[''] peer-checked:border-main peer-checked:after:translate-x-full peer-checked:after:bg-main rtl:peer-checked:after:-translate-x-full`\n          )}\n        />\n      </label>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKO,SAAS,cAAc,EAC5B,OAAO,EACP,SAAS,EACT,QAAQ,EAKT;IACC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,eAAe;QACnB,WAAW,CAAC;QACZ,aAAa,CAAC,OAAS,CAAC;IAC1B;IAEA,qBACE,8OAAC;QAAI,WAAW,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,2BAA2B;kBACjD,cAAA,8OAAC;YAAM,WAAW;;8BAChB,8OAAC;oBAAM,MAAK;oBAAW,OAAM;oBAAG,WAAW;oBAAuB,SAAS;oBAAW,UAAU;;;;;;8BAChG,8OAAC;oBACC,WAAW,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EACf,CAAC,0VAA0V,CAAC;;;;;;;;;;;;;;;;;AAMxW","debugId":null}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///Users/stefangajanovic/Desktop/coachbot/coachbot-codex/src/shared/Input.tsx"],"sourcesContent":["'use client';\n\nimport { forwardRef, ReactNode, useCallback, useEffect, useRef } from 'react';\nimport { useTranslations } from 'next-intl';\nimport { twMerge } from 'tailwind-merge';\n\nexport interface InputProps {\n  children?: ReactNode;\n  id: string;\n  name?: string;\n  type?: string;\n  className?: string;\n  inputClassName?: string;\n  placeholderKey?: string;\n  placeholder?: string;\n  disablePalaceholderKey?: string;\n  initialValue?: string;\n  labelKey?: string;\n  disabled?: boolean;\n  readOnly?: boolean;\n  isSubmitting?: boolean;\n  labelClassName?: string;\n  step?: string;\n  onChange?: (event: any) => any;\n}\n\nexport const Input = forwardRef<HTMLInputElement | HTMLTextAreaElement, InputProps>(\n  (\n    {\n      id,\n      type = 'text',\n      name,\n      className,\n      inputClassName,\n      placeholderKey,\n      placeholder,\n      disablePalaceholderKey,\n      labelKey,\n      labelClassName,\n      disabled,\n      children,\n      initialValue,\n      isSubmitting,\n      readOnly,\n      ...props\n    },\n    ref\n  ) => {\n    const t = useTranslations();\n    const elRef = useRef<HTMLTextAreaElement | HTMLInputElement>(null);\n\n    const adjustHeight = useCallback(() => {\n      if (type === 'textarea' && elRef?.current) {\n        elRef.current.style.height = 'auto';\n        elRef.current.style.height = `${elRef.current.scrollHeight + 2}px`;\n      }\n    }, [elRef]);\n\n    useEffect(() => adjustHeight(), [isSubmitting, initialValue]);\n\n    return (\n      <div className={twMerge('relative flex flex-col gap-x-2 font-normal', className)}>\n        {labelKey && (\n          <label htmlFor={id} className={twMerge('text-base text-light-gray', labelClassName)}>\n            {t(labelKey)}\n            {children}\n          </label>\n        )}\n        {type === 'textarea' ? (\n          <textarea\n            ref={(el) => {\n              elRef.current = el;\n              if (typeof ref === 'function') ref(el);\n              else if (ref) (ref as any).current = el;\n            }}\n            id={id}\n            disabled={disabled}\n            rows={1}\n            defaultValue={initialValue}\n            name={name}\n            placeholder={\n              disabled && disablePalaceholderKey ? t(disablePalaceholderKey) : placeholderKey && t(placeholderKey)\n            }\n            className={twMerge(\n              'focus:no-outline !max-h-40 resize-none overflow-y-auto rounded-lg border border-light-gray bg-white/[18%] px-4 py-3 text-lg text-main focus:ring-0',\n              disabled && 'pointer-events-none animate-pulse bg-dark-gray/[80%] text-transparent placeholder:text-main',\n              inputClassName\n            )}\n            {...props}\n            onChange={async (e: any) => {\n              adjustHeight();\n              await props.onChange?.(e);\n            }}\n          />\n        ) : (\n          <input\n            ref={ref as any}\n            id={id}\n            disabled={disabled}\n            readOnly={readOnly}\n            type={type}\n            name={name}\n            defaultValue={initialValue}\n            placeholder={(placeholderKey && t(placeholderKey)) || placeholder}\n            className={twMerge(\n              'focus:no-outline rounded-lg border border-light-gray bg-white/[18%] px-4 py-2 text-lg text-main placeholder:text-base focus:ring-0',\n              disabled && 'pointer-events-none animate-pulse bg-dark-gray/[80%] placeholder:hidden',\n              inputClassName\n            )}\n            {...props}\n          />\n        )}\n        {children}\n      </div>\n    );\n  }\n);\n\nInput.displayName = 'Input';\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AA0BO,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAC5B,CACE,EACE,EAAE,EACF,OAAO,MAAM,EACb,IAAI,EACJ,SAAS,EACT,cAAc,EACd,cAAc,EACd,WAAW,EACX,sBAAsB,EACtB,QAAQ,EACR,cAAc,EACd,QAAQ,EACR,QAAQ,EACR,YAAY,EACZ,YAAY,EACZ,QAAQ,EACR,GAAG,OACJ,EACD;IAEA,MAAM,IAAI,CAAA,GAAA,sMAAA,CAAA,kBAAe,AAAD;IACxB,MAAM,QAAQ,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAA0C;IAE7D,MAAM,eAAe,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAC/B,IAAI,SAAS,cAAc,OAAO,SAAS;YACzC,MAAM,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG;YAC7B,MAAM,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,MAAM,OAAO,CAAC,YAAY,GAAG,EAAE,EAAE,CAAC;QACpE;IACF,GAAG;QAAC;KAAM;IAEV,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE,IAAM,gBAAgB;QAAC;QAAc;KAAa;IAE5D,qBACE,8OAAC;QAAI,WAAW,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,8CAA8C;;YACnE,0BACC,8OAAC;gBAAM,SAAS;gBAAI,WAAW,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,6BAA6B;;oBACjE,EAAE;oBACF;;;;;;;YAGJ,SAAS,2BACR,8OAAC;gBACC,KAAK,CAAC;oBACJ,MAAM,OAAO,GAAG;oBAChB,IAAI,OAAO,QAAQ,YAAY,IAAI;yBAC9B,IAAI,KAAK,AAAC,IAAY,OAAO,GAAG;gBACvC;gBACA,IAAI;gBACJ,UAAU;gBACV,MAAM;gBACN,cAAc;gBACd,MAAM;gBACN,aACE,YAAY,yBAAyB,EAAE,0BAA0B,kBAAkB,EAAE;gBAEvF,WAAW,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EACf,sJACA,YAAY,+FACZ;gBAED,GAAG,KAAK;gBACT,UAAU,OAAO;oBACf;oBACA,MAAM,MAAM,QAAQ,GAAG;gBACzB;;;;;qCAGF,8OAAC;gBACC,KAAK;gBACL,IAAI;gBACJ,UAAU;gBACV,UAAU;gBACV,MAAM;gBACN,MAAM;gBACN,cAAc;gBACd,aAAa,AAAC,kBAAkB,EAAE,mBAAoB;gBACtD,WAAW,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EACf,sIACA,YAAY,2EACZ;gBAED,GAAG,KAAK;;;;;;YAGZ;;;;;;;AAGP;AAGF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":["file:///Users/stefangajanovic/Desktop/coachbot/coachbot-codex/src/app/%28standalone%29/coach/_components/GoalVision/Radar.tsx"],"sourcesContent":["'use client';\n\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport * as d3 from 'd3';\nimport { nanoid } from 'nanoid';\n\nimport { Theme, useTheme } from '@/contexts/ThemeContext';\nimport { Button } from '@/shared/Button';\nimport { Input } from '@/shared/Input';\nimport { CREATE_CATEGORY_ID } from './CategoriesManager';\n\nconst LABEL_COLORS = {\n  [Theme.LIGHT]: {\n    circleColor: '#AFB1BD',\n    dotColor: '#33B3A9',\n    activeColor: '#473F65',\n  },\n  [Theme.DARK]: {\n    circleColor: '#727379',\n    dotColor: '#33B3A9',\n    activeColor: '#FFFFFF',\n  },\n} as const;\n\nconst calculateTextWidth = (text: string, offset: number, font: string = '400 14px Helvetica Now Display') => {\n  const canvas = document?.createElement('canvas');\n  const context = canvas.getContext('2d');\n\n  if (!context) {\n    throw new Error('Could not get 2D context');\n  }\n\n  context.font = font;\n  return context.measureText(text).width + offset;\n};\n\ninterface DataItemWithKey {\n  id: string;\n  key: string | null;\n  value: number;\n  displayName?: string;\n  name: string;\n  active?: boolean;\n}\n\nexport const SimpleRadar = ({ data, onClick }: { data: any[]; onClick?: (item: DataItemWithKey) => any }) => {\n  const { theme } = useTheme();\n  const { dotColor, circleColor, activeColor } = LABEL_COLORS[theme];\n\n  const [svgWidth, setSvgWidth] = useState(0);\n  const [svgHeight, setSvgHeight] = useState(0);\n  const [id, setId] = useState<string>();\n  const svgRef = useRef<SVGSVGElement | null>(null);\n\n  const dimensions = useMemo(\n    () => ({\n      width: svgWidth,\n      height: svgHeight,\n      labelHeight: 46,\n      radius: Math.min(85, (svgWidth / 3) * 0.2),\n    }),\n    [svgHeight, svgWidth]\n  );\n\n  const circles = d3.range(1, 11).reverse();\n  const radiusScale = d3.scaleLinear().domain([0, 10]).range([0, dimensions.radius]).nice();\n  const angleScale = d3\n    .scaleLinear()\n    .domain(d3.extent(d3.range(data.length + 1)) as any)\n    .range([0, 2 * Math.PI]);\n\n  const getCoordinatesForAngle = useCallback(\n    (angle: number, offset = 1) => {\n      return [\n        dimensions.radius * Math.cos(angle - Math.PI / 2) * offset,\n        dimensions.radius * Math.sin(angle - Math.PI / 2) * offset,\n      ];\n    },\n    [dimensions.radius]\n  );\n\n  useEffect(() => {\n    setId(CSS.escape(`id-${nanoid()}`));\n    const updateSvgWidth = () => {\n      if (svgRef.current) {\n        const svgRect = svgRef.current.getBoundingClientRect();\n        setSvgHeight(svgRect.height);\n        setSvgWidth(svgRect.width);\n      }\n    };\n\n    updateSvgWidth();\n\n    const resizeObserver = new ResizeObserver(() => {\n      updateSvgWidth();\n    });\n\n    if (svgRef.current) {\n      resizeObserver.observe(svgRef.current);\n    }\n\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, []);\n\n  const highlightDot = useCallback(\n    (d: DataItemWithKey, highlight: boolean) => {\n      const selectedDot = d3.select(`circle.${id}-dot[data-key='${d.id}']`);\n\n      if (!selectedDot.empty()) {\n        !d.active && selectedDot.attr('fill', highlight ? '#b6b6b6' : dotColor);\n      } else {\n        console.error(`Element with class .${id}-dot[data-key='${d.id}'] not found`);\n      }\n    },\n    [id]\n  );\n\n  const getLabelOffset = useCallback(\n    (angle: number, labelWidth: number, labelX: number) => {\n      const offsetX = labelX < 0 ? labelWidth : labelX < 3 ? labelWidth / 2 : 0;\n      const angleDeg = ((angle - Math.PI / 2) * 180) / Math.PI;\n      const labelheightOffset = dimensions.labelHeight * 0.5;\n      const offsetY =\n        Math.abs(angleDeg) === 90\n          ? angleDeg < 0\n            ? labelheightOffset\n            : -labelheightOffset\n          : angleDeg > 63 && angleDeg < 126\n            ? -dimensions.labelHeight * 0.5\n            : 0;\n\n      return [offsetX, offsetY + dimensions.labelHeight / 2];\n    },\n    [svgWidth]\n  );\n\n  return (\n    <svg\n      id={id}\n      width=\"100%\"\n      height=\"100%\"\n      viewBox={`0 0 ${svgWidth} ${svgHeight}`}\n      preserveAspectRatio=\"xMinYMin meet\"\n      ref={svgRef}\n      className=\"overflow-visible\"\n    >\n      <g key=\"chart-group\" className={`${id}-chartGroup`} transform={`translate(${svgWidth / 2} ,${svgHeight / 2} )`}>\n        {circles.map((circle: number, i: number) => (\n          <circle\n            key={`circle-${i}`}\n            className={`${id}-circle`}\n            r={radiusScale(circle)}\n            fill=\"none\"\n            stroke={circleColor}\n            strokeWidth=\"0.5\"\n          />\n        ))}\n\n        {data.map((item: DataItemWithKey, i: number) => {\n          const angle = angleScale(i);\n          const [x, y] = getCoordinatesForAngle(angle);\n          const labelWidth = Math.max(svgWidth / 2.8, calculateTextWidth(item.name, 80));\n          const [labelX, labelY] = getCoordinatesForAngle(angle, 2);\n          const [offsetX, offsetY] = getLabelOffset(angle, labelWidth, labelX);\n\n          return (\n            <g key={`axis-${i}`} className={`${id}-axis`}>\n              <line x1=\"0\" x2={x} y1=\"0\" y2={y} stroke={circleColor} strokeWidth=\"0.5\" />\n              <circle\n                className={`${id}-dot z-10 cursor-pointer`}\n                data-key={item.id}\n                cx={x}\n                cy={y}\n                r={dimensions.radius / 10}\n                fill={item.active ? activeColor : dotColor}\n                onMouseEnter={() => highlightDot(item, true)}\n                onMouseLeave={() => highlightDot(item, false)}\n                onClick={() => onClick?.(item)}\n              />\n              <foreignObject\n                key={item.id}\n                x={labelX - offsetX}\n                y={labelY - offsetY}\n                width={labelWidth}\n                height={dimensions.labelHeight}\n                className={`${id}-label`}\n                onMouseEnter={() => highlightDot(item, true)}\n                onMouseLeave={() => highlightDot(item, false)}\n                onClick={() => onClick?.(item)}\n              >\n                {item.id === CREATE_CATEGORY_ID ? (\n                  <Input\n                    id={'add-category-input'}\n                    className=\"flex-grow gap-y-2\"\n                    placeholder={`Add topic ${data.length} / 10`}\n                    inputClassName=\"flex items-center justify-between gap-x-2 rounded-xl border border-dark-aquamarine bg-transparent p-2 px-5 pe-10 text-light-gray hover:border-main placeholder:text-light-gray\"\n                  >\n                    <Button className=\"cbi-add absolute right-0 top-1/2 -translate-x-1/2 -translate-y-1/2 p-0 text-2xl hover:text-light-gray\" />\n                  </Input>\n                ) : (\n                  <div\n                    className={`${id}-label-content group flex size-full items-center justify-between gap-x-2 text-nowrap rounded-full border border-transparent bg-graphic/[14%] p-3.5 text-base text-light-gray hover:border-main hover:text-main`}\n                  >\n                    <span className=\"line-clamp-1 inline-block w-[75%] overflow-hidden text-ellipsis text-nowrap ps-1\">\n                      {item.name}\n                    </span>\n                    <div className={`flex gap-x-2 text-dark-gray group-hover:text-light-gray`}>\n                      <span className=\"cbi-edit-2 p-0 text-lg hover:text-main\" />\n                      <span className=\"cbi-trash p-0 text-lg hover:text-main disabled:opacity-20\" />\n                    </div>\n                  </div>\n                )}\n              </foreignObject>\n            </g>\n          );\n        })}\n      </g>\n    </svg>\n  );\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 511, "column": 0}, "map": {"version":3,"sources":["file:///Users/stefangajanovic/Desktop/coachbot/coachbot-codex/src/app/%28standalone%29/coach/_components/GoalVision/CategoriesManager.tsx"],"sourcesContent":["'use client';\n\nimport { use, useEffect, useState } from 'react';\n\nimport { Input } from '@/shared/Input';\nimport { SimpleRadar } from './Radar';\n\nexport const CREATE_CATEGORY_ID = 'create-category-placeholder';\n\nexport default function CategoriesManager({ categories$ }: { categories$: Promise<any[]> }) {\n  const sourceCategories = use(categories$);\n  const [categories, setCategories] = useState(sourceCategories);\n  const [activeCategory, setActiveCategory] = useState<any>(null);\n\n  const handleClick = (targetCategory: any) => {\n    setCategories((prev) => prev.map((category) => ({ ...category, active: category.id === targetCategory.id })));\n    setActiveCategory(targetCategory);\n  };\n\n  useEffect(() => {\n    setCategories(\n      sourceCategories.length < 10 ? [...new Set([...sourceCategories, { id: CREATE_CATEGORY_ID }])] : sourceCategories\n    );\n  }, [sourceCategories]);\n\n  return (\n    <div className=\"flex flex-grow flex-col\">\n      <div className=\"flex max-h-[45dvh] min-h-[23rem] flex-grow flex-col p-3.5 2xl:min-h-[32rem]\">\n        <SimpleRadar data={[...categories]} onClick={handleClick}></SimpleRadar>\n      </div>\n\n      <Input\n        labelKey=\"CoachDetails.Config.GoalVisionPage.CategoriesManager.topicDescriptionLable\"\n        id={'decription-input'}\n        placeholder=\"Add topic description\"\n        className=\"flex-grow gap-y-2\"\n        type=\"textarea\"\n        initialValue={activeCategory?.description}\n        inputClassName=\"border-storm-gray bg-transparent text-light-gray py-2.5 line-clamp-2 rounded-xl min-h-[4.5rem] text-base focus:text-main focus:border-main\"\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AALA;;;;;AAOO,MAAM,qBAAqB;AAEnB,SAAS,kBAAkB,EAAE,WAAW,EAAmC;IACxF,MAAM,mBAAmB,CAAA,GAAA,qMAAA,CAAA,MAAG,AAAD,EAAE;IAC7B,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAO;IAE1D,MAAM,cAAc,CAAC;QACnB,cAAc,CAAC,OAAS,KAAK,GAAG,CAAC,CAAC,WAAa,CAAC;oBAAE,GAAG,QAAQ;oBAAE,QAAQ,SAAS,EAAE,KAAK,eAAe,EAAE;gBAAC,CAAC;QAC1G,kBAAkB;IACpB;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,cACE,iBAAiB,MAAM,GAAG,KAAK;eAAI,IAAI,IAAI;mBAAI;gBAAkB;oBAAE,IAAI;gBAAmB;aAAE;SAAE,GAAG;IAErG,GAAG;QAAC;KAAiB;IAErB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,4KAAA,CAAA,cAAW;oBAAC,MAAM;2BAAI;qBAAW;oBAAE,SAAS;;;;;;;;;;;0BAG/C,8OAAC,uHAAA,CAAA,QAAK;gBACJ,UAAS;gBACT,IAAI;gBACJ,aAAY;gBACZ,WAAU;gBACV,MAAK;gBACL,cAAc,gBAAgB;gBAC9B,gBAAe;;;;;;;;;;;;AAIvB","debugId":null}},
    {"offset": {"line": 594, "column": 0}, "map": {"version":3,"sources":["file:///Users/stefangajanovic/Desktop/coachbot/coachbot-codex/src/server/actions/assistantActions.ts"],"sourcesContent":["'use server';\n\nimport { revalidateTag } from 'next/cache';\nimport { PriceConfiguration } from '@prisma/client';\n\nimport { Assistant, AssistantConfiguration, AssistantEditable, AssistantMeta } from '@/lib/models/assistant.models';\nimport { State, Template } from '@/lib/models/common.models';\nimport { assistantPriceSchema, assistantSchema, mapRelationConfig } from '@/lib/utils/db.utils';\nimport {\n  createUserAssistant,\n  deleteUserAssistant,\n  duplicateAssistant,\n  getAllTemplates,\n  getUserAssitants,\n  updateAssistantMeta,\n  updateUserAssistant,\n  upsertAssistantPrice,\n} from '../db/assistantClient';\nimport { getFullConfiguration } from '../db/configurationClient';\nimport { getSessionUser, verifySession } from './sessionActions';\n\nexport async function getCurrentAssistant(): Promise<string> {\n  try {\n    const { assistantId } = (await verifySession()) || {};\n\n    return assistantId || '';\n  } catch (error) {\n    console.error(`[authActions] Error fetching current assistant`, error);\n\n    return '';\n  }\n}\n\nexport async function getTemplates(): Promise<Template[]> {\n  try {\n    const templates: any[] = await getAllTemplates();\n\n    return templates.map(mapRelationConfig);\n  } catch (e) {\n    console.error(`[assistantClient] Error fetching templates:`, e);\n    return [];\n  }\n}\n\nexport async function getAssistants(include?: any): Promise<Assistant[]> {\n  let userId;\n  try {\n    userId = await getSessionUser();\n\n    if (!userId) return [];\n\n    const assistants = await getUserAssitants(userId, include);\n\n    return assistants;\n  } catch (e) {\n    console.error(`[assistantClient] Error fetching assistants for user ${userId}:`, e);\n    return [];\n  }\n}\n\nexport async function upsertAssistant(\n  { template, ...assistantData }: AssistantEditable,\n  id?: string\n): Promise<State<Assistant | null>> {\n  let userId;\n  try {\n    userId = await getSessionUser();\n    let assistant;\n\n    if (!userId) return { value: null };\n\n    const parsedData = assistantSchema.safeParse({ template, ...assistantData });\n\n    if (!parsedData.success) {\n      return { errors: parsedData.error.errors.map(({ message, path }) => ({ name: path.join('.'), message })) };\n    }\n\n    if (!!id) {\n      assistant = await updateUserAssistant(userId, id, {\n        name: assistantData.name,\n        description: assistantData.description,\n        mode: assistantData.mode,\n        status: assistantData.status,\n      });\n    } else {\n      assistant = await createUserAssistant(userId, assistantData, template as any);\n    }\n\n    revalidateTag('assistants');\n\n    return { value: assistant };\n  } catch (e) {\n    console.error(`[assistantClient] Error ${!!id ? 'updating' : 'creating'} assistant for user ${userId}:`, e);\n    return { value: null, error: '' };\n  }\n}\n\nexport async function getAssistantConfiguration(\n  id?: string,\n  full: boolean = true\n): Promise<AssistantConfiguration | null> {\n  let assistantId;\n  try {\n    assistantId = id || (await getCurrentAssistant());\n\n    if (!assistantId) {\n      console.warn('Assistant not found or user not authenticated');\n      return null;\n    }\n\n    return (await getFullConfiguration(assistantId || '', full)) as any;\n  } catch (error) {\n    console.error(`[instructionsClient] Error getting assistant ${assistantId} data:`, error);\n\n    return null;\n  }\n}\n\nexport async function createCopyAssistant(assistant: Assistant): Promise<Assistant | null> {\n  try {\n    const userId = await getSessionUser();\n\n    if (!assistant || !userId) {\n      console.warn('Assistant not passed or user not authenticated!');\n      return null;\n    }\n\n    const copy = await duplicateAssistant(userId, assistant);\n    revalidateTag('assistants');\n\n    return copy;\n  } catch (error) {\n    console.error(`[instructionsClient] Error creating copy of assistant ${assistant.id}:`, error);\n\n    return null;\n  }\n}\n\nexport async function updateAssistantMetaData(id: string, data: Partial<AssistantMeta>): Promise<AssistantMeta | null> {\n  let assistantId;\n  try {\n    assistantId = id || (await getCurrentAssistant());\n\n    if (!assistantId) {\n      console.warn('Assistant not found or user not authenticated');\n      return null;\n    }\n\n    const updatedMeta = await updateAssistantMeta(assistantId, data as any);\n\n    revalidateTag('assistants');\n    return updatedMeta;\n  } catch (error) {\n    console.error(`[instructionsClient] Error getting assistant ${assistantId} data:`, error);\n\n    return null;\n  }\n}\n\nexport async function updateAssistantMetaPrice(\n  assistant: Assistant,\n  formData: FormData\n): Promise<State<PriceConfiguration | null>> {\n  let assistantId;\n  try {\n    assistantId = assistant.id || (await getCurrentAssistant());\n\n    if (!assistantId) {\n      console.warn('Assistant not found or user not authenticated');\n      return { error: 'General.errors.unexpectedError', value: null };\n    }\n    const price = [...formData].reduce((data: any, [key, value]: any) => ({ ...data, [key]: value }), {});\n    const validatedData = assistantPriceSchema.parse(price);\n\n    if (validatedData instanceof Error) {\n      return { error: validatedData.message };\n    }\n\n    const updatedPrice = await upsertAssistantPrice(assistant.meta?.id || '', {\n      ...validatedData,\n      trialDays: !!validatedData.trialDays ? 14 : null,\n    } as any);\n\n    revalidateTag('assistants');\n    return { successMessage: 'General.successMessages.dataSaved', value: updatedPrice };\n  } catch (error) {\n    console.error(`[instructionsClient] Error updating assistant ${assistantId} meta price data:`, error);\n\n    return { error: 'General.errors.unexpectedError', value: null };\n  }\n}\n\nexport async function deleteAssistant(id: string) {\n  let userId;\n  try {\n    userId = await getSessionUser();\n\n    if (!userId) return;\n\n    await deleteUserAssistant(userId, id);\n    revalidateTag('assistants');\n  } catch (error) {\n    console.error(`[assistantClient] Error removing user ${userId} assistant ${id}:`, error);\n  }\n}\n"],"names":[],"mappings":";;;;;;IA4DsB,kBAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 607, "column": 0}, "map": {"version":3,"sources":["file:///Users/stefangajanovic/Desktop/coachbot/coachbot-codex/src/app/%28standalone%29/coach/_components/Profile.tsx"],"sourcesContent":["'use client';\n\nimport { useActionState, useMemo } from 'react';\nimport { useTranslations } from 'next-intl';\n\nimport { Assistant } from '@/lib/models/assistant.models';\nimport { State, Template } from '@/lib/models/common.models';\nimport { upsertAssistant } from '@/server/actions/assistantActions';\nimport { Button } from '@/shared/Button';\nimport { Input } from '@/shared/Input';\n\nexport default function Profile({ assistant }: { assistant: Assistant }) {\n  const t = useTranslations();\n  const [state, saveAction, isPending] = useActionState<State<Assistant | null>, any>(\n    async (_: State<Assistant | null>, formData: FormData) => {\n      const name = formData.get('name')?.toString().trim() || assistant.name;\n      const description = formData.get('description')?.toString().trim() || assistant.description;\n      const updatedAssistant = { ...assistant, template: {} as Template, name, description };\n\n      const response = await upsertAssistant(updatedAssistant, assistant.id);\n\n      return { ...response, value: response.value || updatedAssistant };\n    },\n    { value: assistant }\n  );\n\n  const errors = useMemo(\n    () => state.errors?.reduce((errs, item) => ({ ...errs, [item.name]: item.message }), {} as any),\n    [state.errors]\n  );\n\n  return (\n    <div className=\"flex flex-grow flex-col gap-y-8\">\n      <h5 className=\"text-center text-base font-semibold text-light-gray\">\n        {t('CoachDetails.Config.ProfilePage.description')}\n      </h5>\n\n      <form action={saveAction} className=\"mt-2 flex flex-grow flex-col gap-y-3\">\n        <div className=\"flex flex-col gap-y-3 rounded-2xl border border-background-border/[11%] bg-white-opacity p-3.5\">\n          <div className=\"flex flex-col gap-y-2\">\n            <Input\n              className=\"flex flex-col gap-y-2.5\"\n              placeholderKey=\"Assistants.newForm.namePlaceholder\"\n              id=\"name\"\n              name=\"name\"\n              labelKey=\"Assistants.newForm.nameLabel\"\n              labelClassName=\"text-sm ps-2\"\n              inputClassName=\"bg-white/[8%] text-base text-light-gray focus:text-main focus:border-main\"\n              disabled={isPending}\n              initialValue={state.value?.name || ''}\n            />\n            {!!errors?.name && t.has(String(errors?.name)) && (\n              <p className=\"text-sm text-salmon\">{t(String(errors?.name))}</p>\n            )}\n          </div>\n          <div className=\"flex flex-col gap-y-2\">\n            <Input\n              id=\"description\"\n              type=\"textarea\"\n              name=\"description\"\n              labelClassName=\"text-sm ps-2\"\n              labelKey=\"Assistants.newForm.descriptionLabel\"\n              placeholderKey=\"Assistants.newForm.descriptionPlaceholder\"\n              className=\"textarea flex flex-grow flex-col gap-y-2.5\"\n              inputClassName=\"overflow-y-auto line-height-[1.2em] bg-white/[8%] min-h-64 placeholder:text-base text-base focus:border-main text-light-gray focus:text-main\"\n              disabled={isPending}\n              initialValue={state.value?.description || ''}\n            />\n            {errors?.description && t.has(String(errors.description)) && (\n              <p className=\"text-sm text-salmon\">{t(String(errors?.description))}</p>\n            )}\n          </div>\n        </div>\n        <div className=\"flex w-1/2 flex-row justify-end gap-x-1 self-end\">\n          <Button\n            type=\"submit\"\n            variant=\"solid\"\n            color=\"light\"\n            className={`w-44 px-7 ${isPending && 'animate-pulse'}`}\n            disabled={isPending}\n          >\n            <i className=\"cbi-tick-circle-fill\" />\n            {t('General.saveButton')}\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAIA;AACA;AACA;AATA;;;;;;;AAWe,SAAS,QAAQ,EAAE,SAAS,EAA4B;IACrE,MAAM,IAAI,CAAA,GAAA,sMAAA,CAAA,kBAAe,AAAD;IACxB,MAAM,CAAC,OAAO,YAAY,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,iBAAc,AAAD,EAClD,OAAO,GAA4B;QACjC,MAAM,OAAO,SAAS,GAAG,CAAC,SAAS,WAAW,UAAU,UAAU,IAAI;QACtE,MAAM,cAAc,SAAS,GAAG,CAAC,gBAAgB,WAAW,UAAU,UAAU,WAAW;QAC3F,MAAM,mBAAmB;YAAE,GAAG,SAAS;YAAE,UAAU,CAAC;YAAe;YAAM;QAAY;QAErF,MAAM,WAAW,MAAM,CAAA,GAAA,gKAAA,CAAA,kBAAe,AAAD,EAAE,kBAAkB,UAAU,EAAE;QAErE,OAAO;YAAE,GAAG,QAAQ;YAAE,OAAO,SAAS,KAAK,IAAI;QAAiB;IAClE,GACA;QAAE,OAAO;IAAU;IAGrB,MAAM,SAAS,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EACnB,IAAM,MAAM,MAAM,EAAE,OAAO,CAAC,MAAM,OAAS,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,KAAK,IAAI,CAAC,EAAE,KAAK,OAAO;YAAC,CAAC,GAAG,CAAC,IACtF;QAAC,MAAM,MAAM;KAAC;IAGhB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BACX,EAAE;;;;;;0BAGL,8OAAC;gBAAK,QAAQ;gBAAY,WAAU;;kCAClC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,uHAAA,CAAA,QAAK;wCACJ,WAAU;wCACV,gBAAe;wCACf,IAAG;wCACH,MAAK;wCACL,UAAS;wCACT,gBAAe;wCACf,gBAAe;wCACf,UAAU;wCACV,cAAc,MAAM,KAAK,EAAE,QAAQ;;;;;;oCAEpC,CAAC,CAAC,QAAQ,QAAQ,EAAE,GAAG,CAAC,OAAO,QAAQ,wBACtC,8OAAC;wCAAE,WAAU;kDAAuB,EAAE,OAAO,QAAQ;;;;;;;;;;;;0CAGzD,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,uHAAA,CAAA,QAAK;wCACJ,IAAG;wCACH,MAAK;wCACL,MAAK;wCACL,gBAAe;wCACf,UAAS;wCACT,gBAAe;wCACf,WAAU;wCACV,gBAAe;wCACf,UAAU;wCACV,cAAc,MAAM,KAAK,EAAE,eAAe;;;;;;oCAE3C,QAAQ,eAAe,EAAE,GAAG,CAAC,OAAO,OAAO,WAAW,oBACrD,8OAAC;wCAAE,WAAU;kDAAuB,EAAE,OAAO,QAAQ;;;;;;;;;;;;;;;;;;kCAI3D,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,wHAAA,CAAA,SAAM;4BACL,MAAK;4BACL,SAAQ;4BACR,OAAM;4BACN,WAAW,CAAC,UAAU,EAAE,aAAa,iBAAiB;4BACtD,UAAU;;8CAEV,8OAAC;oCAAE,WAAU;;;;;;gCACZ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;AAMf","debugId":null}},
    {"offset": {"line": 784, "column": 0}, "map": {"version":3,"sources":["file:///Users/stefangajanovic/Desktop/coachbot/coachbot-codex/src/shared/ModalButtons.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode, useCallback, useState } from 'react';\nimport { twMerge } from 'tailwind-merge';\n\nimport { Button } from './Button';\nimport { Modal, ModalProps } from './Modal';\n\nexport function DeleteWithConfirmationButton({\n  config,\n  iconClassName,\n  className,\n  children,\n  buttonText,\n}: {\n  config: Omit<ModalProps, 'isOpen' | 'closeModal'>;\n  iconClassName?: string;\n  className?: string;\n  children: ReactNode;\n  buttonText?: string;\n}) {\n  const [modalOpen, setModalOpen] = useState(false);\n\n  const handleConfirm = useCallback(async () => {\n    config?.confirm && (await config?.confirm());\n    setModalOpen(false);\n  }, [config.confirm]);\n\n  return (\n    <>\n      <Button className={twMerge('items-center justify-center', className)} onClick={() => setModalOpen(true)}>\n        <i className={iconClassName}></i>\n        {buttonText}\n      </Button>\n      {config && modalOpen && (\n        <Modal\n          {...config}\n          isOpen={modalOpen}\n          closeModal={() => setModalOpen(false)}\n          confirm={handleConfirm}\n          confirmButtonClass=\"bg-main hover:bg-white/[8%] hover:border-background-border/[16%] text-background\"\n        >\n          {children}\n        </Modal>\n      )}\n    </>\n  );\n}\n\nexport function EditModalButton({\n  initialValue,\n  config,\n  className,\n  children,\n}: {\n  config: Omit<ModalProps, 'isOpen' | 'closeModal'>;\n  className?: string;\n  children: ReactNode;\n  initialValue: string;\n}) {\n  const [modalOpen, setModalOpen] = useState(false);\n  const [value, setValue] = useState('');\n\n  const handleConfirm = useCallback(async () => {\n    config?.confirm && (await config?.confirm(value));\n    setModalOpen(false);\n  }, [config.confirm, value]);\n\n  return (\n    <>\n      <Button className={(twMerge('cbi-trash'), className)} onClick={() => setModalOpen(true)} />\n      {config && modalOpen && (\n        <Modal {...config} isOpen={modalOpen} closeModal={() => setModalOpen(false)} confirm={handleConfirm}>\n          {children}\n          <input\n            id=\"edit-value-input\"\n            required\n            defaultValue={initialValue || ''}\n            className={twMerge(\n              'focus:no-outline rounded-lg border border-light-gray bg-white/[18%] px-4 py-2 text-lg text-main placeholder:text-base focus:ring-0'\n            )}\n            onChange={(e) => setValue(e.target.value)}\n          />\n        </Modal>\n      )}\n    </>\n  );\n}\n\nexport function ModalButton({\n  config,\n  className,\n  children,\n  showButtons = false,\n}: {\n  config: Omit<ModalProps, 'isOpen' | 'closeModal'>;\n  className?: string;\n  children: ReactNode;\n  showButtons?: boolean;\n}) {\n  const [modalOpen, setModalOpen] = useState(false);\n\n  return (\n    <>\n      <Button className={(twMerge('cbi-trash'), className)} onClick={() => setModalOpen(true)} />\n      {config && modalOpen && (\n        <Modal\n          {...config}\n          showButtons={showButtons}\n          isOpen={modalOpen}\n          closeModal={() => setModalOpen(false)}\n          confirm={() => setModalOpen(false)}\n        >\n          {children}\n        </Modal>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AACA;AANA;;;;;;AAQO,SAAS,6BAA6B,EAC3C,MAAM,EACN,aAAa,EACb,SAAS,EACT,QAAQ,EACR,UAAU,EAOX;IACC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,gBAAgB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAChC,QAAQ,WAAY,MAAM,QAAQ;QAClC,aAAa;IACf,GAAG;QAAC,OAAO,OAAO;KAAC;IAEnB,qBACE;;0BACE,8OAAC,wHAAA,CAAA,SAAM;gBAAC,WAAW,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,+BAA+B;gBAAY,SAAS,IAAM,aAAa;;kCAChG,8OAAC;wBAAE,WAAW;;;;;;oBACb;;;;;;;YAEF,UAAU,2BACT,8OAAC,uHAAA,CAAA,QAAK;gBACH,GAAG,MAAM;gBACV,QAAQ;gBACR,YAAY,IAAM,aAAa;gBAC/B,SAAS;gBACT,oBAAmB;0BAElB;;;;;;;;AAKX;AAEO,SAAS,gBAAgB,EAC9B,YAAY,EACZ,MAAM,EACN,SAAS,EACT,QAAQ,EAMT;IACC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,MAAM,gBAAgB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAChC,QAAQ,WAAY,MAAM,QAAQ,QAAQ;QAC1C,aAAa;IACf,GAAG;QAAC,OAAO,OAAO;QAAE;KAAM;IAE1B,qBACE;;0BACE,8OAAC,wHAAA,CAAA,SAAM;gBAAC,WAAW,CAAC,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,cAAc,SAAS;gBAAG,SAAS,IAAM,aAAa;;;;;;YACjF,UAAU,2BACT,8OAAC,uHAAA,CAAA,QAAK;gBAAE,GAAG,MAAM;gBAAE,QAAQ;gBAAW,YAAY,IAAM,aAAa;gBAAQ,SAAS;;oBACnF;kCACD,8OAAC;wBACC,IAAG;wBACH,QAAQ;wBACR,cAAc,gBAAgB;wBAC9B,WAAW,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EACf;wBAEF,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;AAMpD;AAEO,SAAS,YAAY,EAC1B,MAAM,EACN,SAAS,EACT,QAAQ,EACR,cAAc,KAAK,EAMpB;IACC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,qBACE;;0BACE,8OAAC,wHAAA,CAAA,SAAM;gBAAC,WAAW,CAAC,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,cAAc,SAAS;gBAAG,SAAS,IAAM,aAAa;;;;;;YACjF,UAAU,2BACT,8OAAC,uHAAA,CAAA,QAAK;gBACH,GAAG,MAAM;gBACV,aAAa;gBACb,QAAQ;gBACR,YAAY,IAAM,aAAa;gBAC/B,SAAS,IAAM,aAAa;0BAE3B;;;;;;;;AAKX","debugId":null}},
    {"offset": {"line": 923, "column": 0}, "map": {"version":3,"sources":["file:///Users/stefangajanovic/Desktop/coachbot/coachbot-codex/src/lib/models/assistant.models.ts"],"sourcesContent":["import { PriceCurrency } from './checkout.models';\nimport { ModelConfig, Template, User } from './common.models';\nimport { ModerationRule, Stage, Style } from './instruction.models';\n\nexport enum AssistantMode {\n  fullAccess = 'fullAccess',\n  highLevel = 'high-level',\n  confidential = 'confidential',\n}\n\nexport enum AssistantStatus {\n  published = 'published',\n  draft = 'draft',\n  archived = 'archived',\n}\n\nexport enum Visibility {\n  public = 'public',\n  private = 'private',\n}\n\nexport enum AccessLevel {\n  free = 'free',\n  premium = 'premium',\n}\n\nexport enum AssistantUsageType {\n  general = 'general',\n  unique = 'unique',\n}\n\nexport enum CommunicationMode {\n  text_to_text = 'text_to_text',\n  speech_to_text = 'speech_to_text',\n  voice_to_voice = 'voice_to_voice',\n  video_avatar = 'video_avatar',\n}\n\nexport interface PriceConfiguration {\n  id: string;\n  assistantMeta?: AssistantMeta;\n  assistantMetaId?: string;\n  amount: number | null;\n  monthly: number;\n  yearly?: number | null;\n  currency: PriceCurrency | string;\n  trialDays: number | null;\n}\n\nexport interface AssistantFeedback {\n  id: string;\n  assistantMeta?: AssistantMeta;\n  assistantMetaId?: string;\n  rating: number;\n  title: string;\n  description: string;\n  userId?: string | null;\n  userName?: string | null;\n}\n\nexport interface AssistantConfiguration {\n  id: string;\n  assistant?: Assistant;\n  templateId?: string;\n  template?: Template;\n  modelConfigs: ModelConfig[];\n  moderationRules: ModerationRule[];\n  stages: Stage[];\n  styles: Style[];\n  instructions?: string;\n  onboarding?: string;\n  tokensLimit?: number | null;\n  usageType?: string | AssistantUsageType | null;\n  communicationModes?: CommunicationMode[];\n}\n\nexport interface AssistantMeta {\n  id: string;\n  assistant?: Assistant;\n  visibility: Visibility | string;\n  accessLevel: AccessLevel | string;\n  price?: PriceConfiguration;\n  created_at?: Date | null;\n  updated_at?: Date | null;\n  users?: number;\n  feedbacks?: AssistantFeedback[];\n  whatsapp?: boolean | null;\n}\n\nexport interface Assistant {\n  id: string;\n  name: string;\n  description: string;\n  user?: User;\n  userId?: string | null;\n  created_at: Date | string | null;\n  updated_at: Date | string | null;\n  mode?: AssistantMode | string;\n  status?: AssistantStatus | string;\n  meta?: AssistantMeta;\n  configuration?: AssistantConfiguration;\n  template?: Template;\n}\n\nexport interface AssistantEditable {\n  name: string;\n  description: string;\n  template: Template;\n  mode?: string;\n  status?: string | AssistantStatus;\n}\n"],"names":[],"mappings":";;;;;;;;AAIO,IAAA,AAAK,uCAAA;;;;WAAA;;AAML,IAAA,AAAK,yCAAA;;;;WAAA;;AAML,IAAA,AAAK,oCAAA;;;WAAA;;AAKL,IAAA,AAAK,qCAAA;;;WAAA;;AAKL,IAAA,AAAK,4CAAA;;;WAAA;;AAKL,IAAA,AAAK,2CAAA;;;;;WAAA","debugId":null}},
    {"offset": {"line": 971, "column": 0}, "map": {"version":3,"sources":["file:///Users/stefangajanovic/Desktop/coachbot/coachbot-codex/src/server/actions/assistantActions.ts"],"sourcesContent":["'use server';\n\nimport { revalidateTag } from 'next/cache';\nimport { PriceConfiguration } from '@prisma/client';\n\nimport { Assistant, AssistantConfiguration, AssistantEditable, AssistantMeta } from '@/lib/models/assistant.models';\nimport { State, Template } from '@/lib/models/common.models';\nimport { assistantPriceSchema, assistantSchema, mapRelationConfig } from '@/lib/utils/db.utils';\nimport {\n  createUserAssistant,\n  deleteUserAssistant,\n  duplicateAssistant,\n  getAllTemplates,\n  getUserAssitants,\n  updateAssistantMeta,\n  updateUserAssistant,\n  upsertAssistantPrice,\n} from '../db/assistantClient';\nimport { getFullConfiguration } from '../db/configurationClient';\nimport { getSessionUser, verifySession } from './sessionActions';\n\nexport async function getCurrentAssistant(): Promise<string> {\n  try {\n    const { assistantId } = (await verifySession()) || {};\n\n    return assistantId || '';\n  } catch (error) {\n    console.error(`[authActions] Error fetching current assistant`, error);\n\n    return '';\n  }\n}\n\nexport async function getTemplates(): Promise<Template[]> {\n  try {\n    const templates: any[] = await getAllTemplates();\n\n    return templates.map(mapRelationConfig);\n  } catch (e) {\n    console.error(`[assistantClient] Error fetching templates:`, e);\n    return [];\n  }\n}\n\nexport async function getAssistants(include?: any): Promise<Assistant[]> {\n  let userId;\n  try {\n    userId = await getSessionUser();\n\n    if (!userId) return [];\n\n    const assistants = await getUserAssitants(userId, include);\n\n    return assistants;\n  } catch (e) {\n    console.error(`[assistantClient] Error fetching assistants for user ${userId}:`, e);\n    return [];\n  }\n}\n\nexport async function upsertAssistant(\n  { template, ...assistantData }: AssistantEditable,\n  id?: string\n): Promise<State<Assistant | null>> {\n  let userId;\n  try {\n    userId = await getSessionUser();\n    let assistant;\n\n    if (!userId) return { value: null };\n\n    const parsedData = assistantSchema.safeParse({ template, ...assistantData });\n\n    if (!parsedData.success) {\n      return { errors: parsedData.error.errors.map(({ message, path }) => ({ name: path.join('.'), message })) };\n    }\n\n    if (!!id) {\n      assistant = await updateUserAssistant(userId, id, {\n        name: assistantData.name,\n        description: assistantData.description,\n        mode: assistantData.mode,\n        status: assistantData.status,\n      });\n    } else {\n      assistant = await createUserAssistant(userId, assistantData, template as any);\n    }\n\n    revalidateTag('assistants');\n\n    return { value: assistant };\n  } catch (e) {\n    console.error(`[assistantClient] Error ${!!id ? 'updating' : 'creating'} assistant for user ${userId}:`, e);\n    return { value: null, error: '' };\n  }\n}\n\nexport async function getAssistantConfiguration(\n  id?: string,\n  full: boolean = true\n): Promise<AssistantConfiguration | null> {\n  let assistantId;\n  try {\n    assistantId = id || (await getCurrentAssistant());\n\n    if (!assistantId) {\n      console.warn('Assistant not found or user not authenticated');\n      return null;\n    }\n\n    return (await getFullConfiguration(assistantId || '', full)) as any;\n  } catch (error) {\n    console.error(`[instructionsClient] Error getting assistant ${assistantId} data:`, error);\n\n    return null;\n  }\n}\n\nexport async function createCopyAssistant(assistant: Assistant): Promise<Assistant | null> {\n  try {\n    const userId = await getSessionUser();\n\n    if (!assistant || !userId) {\n      console.warn('Assistant not passed or user not authenticated!');\n      return null;\n    }\n\n    const copy = await duplicateAssistant(userId, assistant);\n    revalidateTag('assistants');\n\n    return copy;\n  } catch (error) {\n    console.error(`[instructionsClient] Error creating copy of assistant ${assistant.id}:`, error);\n\n    return null;\n  }\n}\n\nexport async function updateAssistantMetaData(id: string, data: Partial<AssistantMeta>): Promise<AssistantMeta | null> {\n  let assistantId;\n  try {\n    assistantId = id || (await getCurrentAssistant());\n\n    if (!assistantId) {\n      console.warn('Assistant not found or user not authenticated');\n      return null;\n    }\n\n    const updatedMeta = await updateAssistantMeta(assistantId, data as any);\n\n    revalidateTag('assistants');\n    return updatedMeta;\n  } catch (error) {\n    console.error(`[instructionsClient] Error getting assistant ${assistantId} data:`, error);\n\n    return null;\n  }\n}\n\nexport async function updateAssistantMetaPrice(\n  assistant: Assistant,\n  formData: FormData\n): Promise<State<PriceConfiguration | null>> {\n  let assistantId;\n  try {\n    assistantId = assistant.id || (await getCurrentAssistant());\n\n    if (!assistantId) {\n      console.warn('Assistant not found or user not authenticated');\n      return { error: 'General.errors.unexpectedError', value: null };\n    }\n    const price = [...formData].reduce((data: any, [key, value]: any) => ({ ...data, [key]: value }), {});\n    const validatedData = assistantPriceSchema.parse(price);\n\n    if (validatedData instanceof Error) {\n      return { error: validatedData.message };\n    }\n\n    const updatedPrice = await upsertAssistantPrice(assistant.meta?.id || '', {\n      ...validatedData,\n      trialDays: !!validatedData.trialDays ? 14 : null,\n    } as any);\n\n    revalidateTag('assistants');\n    return { successMessage: 'General.successMessages.dataSaved', value: updatedPrice };\n  } catch (error) {\n    console.error(`[instructionsClient] Error updating assistant ${assistantId} meta price data:`, error);\n\n    return { error: 'General.errors.unexpectedError', value: null };\n  }\n}\n\nexport async function deleteAssistant(id: string) {\n  let userId;\n  try {\n    userId = await getSessionUser();\n\n    if (!userId) return;\n\n    await deleteUserAssistant(userId, id);\n    revalidateTag('assistants');\n  } catch (error) {\n    console.error(`[assistantClient] Error removing user ${userId} assistant ${id}:`, error);\n  }\n}\n"],"names":[],"mappings":";;;;;;IAsHsB,sBAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 984, "column": 0}, "map": {"version":3,"sources":["file:///Users/stefangajanovic/Desktop/coachbot/coachbot-codex/src/shared/CoomingSoon.tsx"],"sourcesContent":["import { memo } from 'react';\nimport { useTranslations } from 'next-intl';\nimport { twMerge } from 'tailwind-merge';\n\nconst ComingSoon = memo(function ComingSoon({ className, onlyLabel }: { className?: string; onlyLabel?: boolean }) {\n  const t = useTranslations();\n\n  return (\n    <p className={twMerge('inline-flex items-center gap-x-1 py-2 text-sm font-bold text-light-gray', className)}>\n      {!onlyLabel && t('General.inDevelopmentLabel')}\n      <span className=\"rounded-full bg-grape px-2 uppercase leading-4 text-main\">{t('General.comingSoon')}</span>\n    </p>\n  );\n});\n\nexport default ComingSoon;\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,OAAI,AAAD,EAAE,SAAS,WAAW,EAAE,SAAS,EAAE,SAAS,EAA+C;IAC/G,MAAM,IAAI,CAAA,GAAA,sMAAA,CAAA,kBAAe,AAAD;IAExB,qBACE,8OAAC;QAAE,WAAW,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,2EAA2E;;YAC9F,CAAC,aAAa,EAAE;0BACjB,8OAAC;gBAAK,WAAU;0BAA4D,EAAE;;;;;;;;;;;;AAGpF;uCAEe","debugId":null}},
    {"offset": {"line": 1023, "column": 0}, "map": {"version":3,"sources":["file:///Users/stefangajanovic/Desktop/coachbot/coachbot-codex/src/shared/DropdownMenu.tsx"],"sourcesContent":["'use client';\n\nimport React, { ReactNode } from 'react';\nimport { Menu, MenuButton, MenuItem, MenuItems, MenuSeparator } from '@headlessui/react';\nimport { twMerge } from 'tailwind-merge';\n\nimport ComingSoon from './CoomingSoon';\n\nexport interface MenuOption {\n  label?: string;\n  labelKey?: string;\n  subTitle?: string;\n  inDevelompent?: boolean;\n  divider?: boolean;\n  icon?: string;\n  className?: string;\n  onClick?: (data: any) => void;\n  children?: (close: () => any) => ReactNode;\n}\n\ninterface DropdownMenuProps {\n  menuId?: string;\n  menuBtnClass?: string;\n  menuBtnIcon?: string;\n  menuItemsClass?: string;\n  options: MenuOption[];\n}\n\nexport function DropdownMenu({ menuId, menuBtnClass, menuBtnIcon, menuItemsClass, options }: DropdownMenuProps) {\n  return (\n    <Menu>\n      {({ open, close }) => (\n        <div key={menuId}>\n          <MenuButton\n            className={twMerge(\n              'inline-flex items-center gap-2 rounded-md px-3 py-1.5 text-main focus:outline-none data-[focus]:text-main data-[hover]:text-main data-[open]:text-main',\n              menuBtnClass\n            )}\n          >\n            {menuBtnIcon && <i className={menuBtnIcon}></i>}\n          </MenuButton>\n\n          {open && (\n            <MenuItems\n              transition\n              anchor=\"bottom end\"\n              className={twMerge(\n                'z-10 flex w-max min-w-40 flex-col gap-y-1.5 rounded-xl border border-light-gray bg-violet-950 p-2.5 text-light-gray transition duration-200 ease-out [--anchor-gap:var(--spacing-1)] focus:outline-none data-[closed]:scale-95 data-[closed]:opacity-0',\n                menuItemsClass\n              )}\n            >\n              {options &&\n                options.map((option: MenuOption, id: number) => (\n                  <MenuItem key={`menu-item-${id}`} as={'div'}>\n                    {option.children ? (\n                      option.children(close)\n                    ) : (\n                      <button\n                        onClick={() => option.onClick?.(menuId)}\n                        className={twMerge(\n                          'group flex w-full items-center justify-start gap-2 p-1.5 text-base font-semibold hover:text-main data-[focus]:text-main data-[hover]:text-main',\n                          option.className\n                        )}\n                      >\n                        {option.icon && <i className={option.icon}></i>}\n                        <div className=\"flex flex-col items-start justify-start\">\n                          {option.label}\n                          {option.subTitle && <span className=\"leading-4 text-light-gray\"> {option.subTitle}</span>}\n                          {option.inDevelompent && <ComingSoon onlyLabel={true} />}\n                        </div>\n                      </button>\n                    )}\n                    {option.divider && <MenuSeparator className=\"my-1 h-px bg-storm-gray\" />}\n                  </MenuItem>\n                ))}\n            </MenuItems>\n          )}\n        </div>\n      )}\n    </Menu>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AAEA;AANA;;;;;AA4BO,SAAS,aAAa,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,cAAc,EAAE,OAAO,EAAqB;IAC5G,qBACE,8OAAC,2KAAA,CAAA,OAAI;kBACF,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,iBACf,8OAAC;;kCACC,8OAAC,2KAAA,CAAA,aAAU;wBACT,WAAW,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EACf,0JACA;kCAGD,6BAAe,8OAAC;4BAAE,WAAW;;;;;;;;;;;oBAG/B,sBACC,8OAAC,2KAAA,CAAA,YAAS;wBACR,UAAU;wBACV,QAAO;wBACP,WAAW,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EACf,0PACA;kCAGD,WACC,QAAQ,GAAG,CAAC,CAAC,QAAoB,mBAC/B,8OAAC,2KAAA,CAAA,WAAQ;gCAAyB,IAAI;;oCACnC,OAAO,QAAQ,GACd,OAAO,QAAQ,CAAC,uBAEhB,8OAAC;wCACC,SAAS,IAAM,OAAO,OAAO,GAAG;wCAChC,WAAW,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EACf,kJACA,OAAO,SAAS;;4CAGjB,OAAO,IAAI,kBAAI,8OAAC;gDAAE,WAAW,OAAO,IAAI;;;;;;0DACzC,8OAAC;gDAAI,WAAU;;oDACZ,OAAO,KAAK;oDACZ,OAAO,QAAQ,kBAAI,8OAAC;wDAAK,WAAU;;4DAA4B;4DAAE,OAAO,QAAQ;;;;;;;oDAChF,OAAO,aAAa,kBAAI,8OAAC,6HAAA,CAAA,UAAU;wDAAC,WAAW;;;;;;;;;;;;;;;;;;oCAIrD,OAAO,OAAO,kBAAI,8OAAC,2KAAA,CAAA,gBAAa;wCAAC,WAAU;;;;;;;+BAnB/B,CAAC,UAAU,EAAE,IAAI;;;;;;;;;;;eArBhC;;;;;;;;;;AAiDlB","debugId":null}},
    {"offset": {"line": 1141, "column": 0}, "map": {"version":3,"sources":["file:///Users/stefangajanovic/Desktop/coachbot/coachbot-codex/src/app/%28main%29/dashboard/_components/AssistantMenu.tsx"],"sourcesContent":["'use client';\n\nimport { useTranslations } from 'next-intl';\n\nimport { Assistant, AssistantStatus } from '@/lib/models/assistant.models';\nimport { Template } from '@/lib/models/common.models';\nimport { createCopyAssistant, deleteAssistant, upsertAssistant } from '@/server/actions/assistantActions';\nimport { DropdownMenu, MenuOption } from '@/shared/DropdownMenu';\nimport { ExportAssistantButton } from '@/shared/FunctionalButtons';\nimport { DeleteWithConfirmationButton } from '@/shared/ModalButtons';\n\nconst modalConfig = {\n  buttonTitleKey: 'Assistants.deleteModal.deleteButton',\n  buttonIcon: 'cbi-trash',\n  titleIcon: 'cbi-send',\n  titleKey: 'Assistants.deleteModal.title',\n  variant: 'red',\n};\n\nconst getMenuOptions = (assistant: Assistant, t: any): (MenuOption & { allowedStatuses?: AssistantStatus[] })[] =>\n  [\n    {\n      icon: 'cbi-export',\n      label: t('Dashboard.assistantCard.menuItems.0'),\n      subTitle: t('Dashboard.assistantCard.menuItems.1'),\n      className: 'text-dark-aquamarine',\n      divider: true,\n      onClick: async () =>\n        await upsertAssistant(\n          { ...assistant, template: {} as Template, status: AssistantStatus.published },\n          assistant.id\n        ),\n      allowedStatuses: [AssistantStatus.draft],\n    },\n    {\n      icon: 'cbi-scroll',\n      label: t('Dashboard.assistantCard.menuItems.2'),\n      subTitle: t('Dashboard.assistantCard.menuItems.3'),\n      inDevelompent: true,\n      divider: true,\n      className: 'text-yellow',\n      onClick: () => console.log('Integrate item clicked'),\n      allowedStatuses: [AssistantStatus.draft],\n    },\n    {\n      icon: 'cbi-export',\n      label: t('Dashboard.assistantCard.menuItems.8'),\n      divider: true,\n      onClick: async () =>\n        await upsertAssistant({ ...assistant, template: {} as Template, status: AssistantStatus.draft }, assistant.id),\n      allowedStatuses: [AssistantStatus.published, AssistantStatus.archived],\n    },\n    {\n      icon: 'cbi-copy',\n      label: t('Dashboard.assistantCard.menuItems.4'),\n      onClick: async () => await createCopyAssistant(assistant),\n      allowedStatuses: [AssistantStatus.archived, AssistantStatus.draft],\n    },\n    {\n      children: (close: any) => {\n        return (\n          <div onClick={(e) => e.stopPropagation()}>\n            <ExportAssistantButton\n              assistant={assistant}\n              callback={close}\n              className=\"border-none p-1.5 text-base font-semibold text-light-gray hover:text-main\"\n              iconClassName=\"!text-xl\"\n            />\n          </div>\n        );\n      },\n    },\n    {\n      icon: 'cbi-archive',\n      label: t('Dashboard.assistantCard.menuItems.6'),\n      onClick: async () =>\n        await upsertAssistant(\n          { ...assistant, template: {} as Template, status: AssistantStatus.archived },\n          assistant.id\n        ),\n      allowedStatuses: [AssistantStatus.published, AssistantStatus.draft],\n    },\n    {\n      children: (close: () => any) => (\n        <div onClick={(e) => e.stopPropagation()}>\n          <DeleteWithConfirmationButton\n            buttonText={t('Dashboard.assistantCard.menuItems.7')}\n            iconClassName=\"cbi-trash !text-xl\"\n            className={'border-none p-1.5 font-semibold text-salmon hover:text-main'}\n            config={{\n              ...modalConfig,\n              confirm: async () => {\n                await deleteAssistant(assistant?.id);\n                close();\n              },\n            }}\n          >\n            <p className=\"text-light-gray\">{t(`Assistants.deleteModal.content`, { name: assistant?.name })}</p>\n          </DeleteWithConfirmationButton>\n        </div>\n      ),\n    },\n  ].filter(({ allowedStatuses }) => !allowedStatuses || allowedStatuses.includes(assistant.status as AssistantStatus));\n\nexport default function AssistantMenu({ assistant }: { assistant: Assistant }) {\n  const t = useTranslations();\n\n  return (\n    <DropdownMenu\n      options={getMenuOptions(assistant, t)}\n      menuBtnIcon=\"cbi-more\"\n      menuBtnClass=\"aspect-square border border-graphic/[14%] text-xl text-light-gray hover:border-main data-[hover]:text-main\"\n      menuItemsClass=\"min-w-60\"\n    />\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1308, "column": 0}, "map": {"version":3,"sources":["file:///Users/stefangajanovic/Desktop/coachbot/coachbot-codex/src/app/%28main%29/dashboard/_components/AssistantFilter.tsx"],"sourcesContent":["'use client';\n\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport { usePathname, useRouter } from 'next/navigation';\n\nimport { Assistant, AssistantStatus } from '@/lib/models/assistant.models';\nimport { RadioGroup } from '@/shared/RadioGroup';\n\nexport const statusOptions = [\n  { id: 0, value: AssistantStatus.published, labelKey: 'Dashboard.assistantStatusOptions.0' },\n  { id: 1, value: AssistantStatus.draft, labelKey: 'Dashboard.assistantStatusOptions.1' },\n  { id: 2, value: AssistantStatus.archived, labelKey: 'Dashboard.assistantStatusOptions.2' },\n];\n\nexport default function AssistantFilter({\n  assistants,\n  selected,\n}: {\n  assistants: Assistant[];\n  selected: AssistantStatus;\n}) {\n  const [selectedStatus, setSelectedStatus] = useState(selected || AssistantStatus.published);\n  const pathname = usePathname();\n  const router = useRouter();\n\n  const options = useMemo(() => {\n    return statusOptions.map((option) => {\n      const count = assistants.reduce((count, assistant) => (assistant.status === option.value ? ++count : count), 0);\n\n      return {\n        ...option,\n        displayValue: count,\n        disabled: !count,\n      };\n    });\n  }, [assistants]);\n\n  const handleFilterSelected = useCallback((value: AssistantStatus) => {\n    setSelectedStatus(value);\n    router.push(`${pathname}?status=${value}`);\n  }, []);\n\n  useEffect(() => {\n    const currentOption = options.find(({ value }) => value === selectedStatus);\n\n    if (!currentOption?.displayValue) {\n      const targetOption = options.find(({ displayValue }) => displayValue > 0);\n      targetOption?.value && handleFilterSelected(targetOption?.value);\n    }\n  }, [options]);\n\n  return (\n    <RadioGroup\n      options={options}\n      selected={selectedStatus}\n      setSelected={handleFilterSelected}\n      optionClassName=\"p-3 text-sm\"\n      className=\"flex max-w-xl flex-grow gap-x-1\"\n      variant=\"graphic\"\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AACA;AANA;;;;;;AAQO,MAAM,gBAAgB;IAC3B;QAAE,IAAI;QAAG,OAAO,2IAAA,CAAA,kBAAe,CAAC,SAAS;QAAE,UAAU;IAAqC;IAC1F;QAAE,IAAI;QAAG,OAAO,2IAAA,CAAA,kBAAe,CAAC,KAAK;QAAE,UAAU;IAAqC;IACtF;QAAE,IAAI;QAAG,OAAO,2IAAA,CAAA,kBAAe,CAAC,QAAQ;QAAE,UAAU;IAAqC;CAC1F;AAEc,SAAS,gBAAgB,EACtC,UAAU,EACV,QAAQ,EAIT;IACC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,YAAY,2IAAA,CAAA,kBAAe,CAAC,SAAS;IAC1F,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QACtB,OAAO,cAAc,GAAG,CAAC,CAAC;YACxB,MAAM,QAAQ,WAAW,MAAM,CAAC,CAAC,OAAO,YAAe,UAAU,MAAM,KAAK,OAAO,KAAK,GAAG,EAAE,QAAQ,OAAQ;YAE7G,OAAO;gBACL,GAAG,MAAM;gBACT,cAAc;gBACd,UAAU,CAAC;YACb;QACF;IACF,GAAG;QAAC;KAAW;IAEf,MAAM,uBAAuB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QACxC,kBAAkB;QAClB,OAAO,IAAI,CAAC,GAAG,SAAS,QAAQ,EAAE,OAAO;IAC3C,GAAG,EAAE;IAEL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,gBAAgB,QAAQ,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,GAAK,UAAU;QAE5D,IAAI,CAAC,eAAe,cAAc;YAChC,MAAM,eAAe,QAAQ,IAAI,CAAC,CAAC,EAAE,YAAY,EAAE,GAAK,eAAe;YACvE,cAAc,SAAS,qBAAqB,cAAc;QAC5D;IACF,GAAG;QAAC;KAAQ;IAEZ,qBACE,8OAAC,4HAAA,CAAA,aAAU;QACT,SAAS;QACT,UAAU;QACV,aAAa;QACb,iBAAgB;QAChB,WAAU;QACV,SAAQ;;;;;;AAGd","debugId":null}}]
}