module.exports = {

"[project]/src/contexts/AsideContext.tsx (client reference/proxy) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "AsideContextProvider": (()=>AsideContextProvider),
    "useAsideContext": (()=>useAsideContext)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const AsideContextProvider = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call AsideContextProvider() from the server but AsideContextProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/contexts/AsideContext.tsx <module evaluation>", "AsideContextProvider");
const useAsideContext = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call useAsideContext() from the server but useAsideContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/contexts/AsideContext.tsx <module evaluation>", "useAsideContext");
}}),
"[project]/src/contexts/AsideContext.tsx (client reference/proxy)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "AsideContextProvider": (()=>AsideContextProvider),
    "useAsideContext": (()=>useAsideContext)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const AsideContextProvider = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call AsideContextProvider() from the server but AsideContextProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/contexts/AsideContext.tsx", "AsideContextProvider");
const useAsideContext = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call useAsideContext() from the server but useAsideContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/contexts/AsideContext.tsx", "useAsideContext");
}}),
"[project]/src/contexts/AsideContext.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contexts$2f$AsideContext$2e$tsx__$28$client__reference$2f$proxy$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/src/contexts/AsideContext.tsx (client reference/proxy) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contexts$2f$AsideContext$2e$tsx__$28$client__reference$2f$proxy$29$__ = __turbopack_context__.i("[project]/src/contexts/AsideContext.tsx (client reference/proxy)");
;
__turbopack_context__.n(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contexts$2f$AsideContext$2e$tsx__$28$client__reference$2f$proxy$29$__);
}}),
"[project]/src/contexts/RootContextProvider.tsx (client reference/proxy) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "RootContextProvider": (()=>RootContextProvider),
    "useRootContext": (()=>useRootContext)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const RootContextProvider = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call RootContextProvider() from the server but RootContextProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/contexts/RootContextProvider.tsx <module evaluation>", "RootContextProvider");
const useRootContext = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call useRootContext() from the server but useRootContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/contexts/RootContextProvider.tsx <module evaluation>", "useRootContext");
}}),
"[project]/src/contexts/RootContextProvider.tsx (client reference/proxy)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "RootContextProvider": (()=>RootContextProvider),
    "useRootContext": (()=>useRootContext)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const RootContextProvider = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call RootContextProvider() from the server but RootContextProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/contexts/RootContextProvider.tsx", "RootContextProvider");
const useRootContext = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call useRootContext() from the server but useRootContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/contexts/RootContextProvider.tsx", "useRootContext");
}}),
"[project]/src/contexts/RootContextProvider.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contexts$2f$RootContextProvider$2e$tsx__$28$client__reference$2f$proxy$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/src/contexts/RootContextProvider.tsx (client reference/proxy) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contexts$2f$RootContextProvider$2e$tsx__$28$client__reference$2f$proxy$29$__ = __turbopack_context__.i("[project]/src/contexts/RootContextProvider.tsx (client reference/proxy)");
;
__turbopack_context__.n(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contexts$2f$RootContextProvider$2e$tsx__$28$client__reference$2f$proxy$29$__);
}}),
"[externals]/@prisma/client/runtime/library [external] (@prisma/client/runtime/library, esm_import)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname, a: __turbopack_async_module__ } = __turbopack_context__;
__turbopack_async_module__(async (__turbopack_handle_async_dependencies__, __turbopack_async_result__) => { try {
const mod = await __turbopack_context__.y("@prisma/client/runtime/library");

__turbopack_context__.n(mod);
__turbopack_async_result__();
} catch(e) { __turbopack_async_result__(e); } }, true);}),
"[project]/src/lib/utils/server.utils.ts [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname, a: __turbopack_async_module__ } = __turbopack_context__;
__turbopack_async_module__(async (__turbopack_handle_async_dependencies__, __turbopack_async_result__) => { try {
__turbopack_context__.s({
    "convertDecimalValues": (()=>convertDecimalValues)
});
var __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$library__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$library$2c$__esm_import$29$__ = __turbopack_context__.i("[externals]/@prisma/client/runtime/library [external] (@prisma/client/runtime/library, esm_import)");
var __turbopack_async_dependencies__ = __turbopack_handle_async_dependencies__([
    __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$library__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$library$2c$__esm_import$29$__
]);
([__TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$library__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$library$2c$__esm_import$29$__] = __turbopack_async_dependencies__.then ? (await __turbopack_async_dependencies__)() : __turbopack_async_dependencies__);
'server only';
;
function convertDecimalValues(obj) {
    const result = {};
    for (const [key, value] of Object.entries(obj)){
        if (value instanceof __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$library__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$library$2c$__esm_import$29$__["Decimal"]) {
            result[key] = value.toNumber();
        } else {
            result[key] = value;
        }
    }
    return result;
}
__turbopack_async_result__();
} catch(e) { __turbopack_async_result__(e); } }, false);}),
"[project]/src/server/db/configurationClient.ts [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname, a: __turbopack_async_module__ } = __turbopack_context__;
__turbopack_async_module__(async (__turbopack_handle_async_dependencies__, __turbopack_async_result__) => { try {
__turbopack_context__.s({
    "createAssistantModerationRule": (()=>createAssistantModerationRule),
    "createAssistantModerationTemplate": (()=>createAssistantModerationTemplate),
    "createAssistantStage": (()=>createAssistantStage),
    "createAssistantStyle": (()=>createAssistantStyle),
    "deleteAssistantModerationRule": (()=>deleteAssistantModerationRule),
    "deleteAssistantModerationTemplate": (()=>deleteAssistantModerationTemplate),
    "deleteAssistantStage": (()=>deleteAssistantStage),
    "deleteAssistantStyle": (()=>deleteAssistantStyle),
    "getAssistantFirstStage": (()=>getAssistantFirstStage),
    "getAssistantModerationRules": (()=>getAssistantModerationRules),
    "getAssistantStages": (()=>getAssistantStages),
    "getAssistantStyles": (()=>getAssistantStyles),
    "getFullConfiguration": (()=>getFullConfiguration),
    "updateAssistantModerationRule": (()=>updateAssistantModerationRule),
    "updateAssistantModerationTemplate": (()=>updateAssistantModerationTemplate),
    "updateAssistantStage": (()=>updateAssistantStage),
    "updateAssistantStagesOrder": (()=>updateAssistantStagesOrder),
    "updateAssistantStyle": (()=>updateAssistantStyle),
    "updateConfigurationInstructions": (()=>updateConfigurationInstructions)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$cache$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/cache.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/prisma.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$server$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/utils/server.utils.ts [app-rsc] (ecmascript)");
var __turbopack_async_dependencies__ = __turbopack_handle_async_dependencies__([
    __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$server$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__
]);
([__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$server$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__] = __turbopack_async_dependencies__.then ? (await __turbopack_async_dependencies__)() : __turbopack_async_dependencies__);
;
;
;
const getFullConfiguration = async (assistantId, full)=>{
    try {
        const config = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].assistantConfiguration.findUnique({
            where: {
                assistantId
            },
            include: full ? {
                stages: true,
                styles: true,
                modelConfigs: true,
                moderationRules: true
            } : undefined
        });
        return {
            ...config,
            modelConfigs: full ? config.modelConfigs.map(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$server$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["convertDecimalValues"]) : undefined
        };
    } catch (error) {
        console.error(`[instructionsClient] Error fetching assistant ${assistantId} full configuration:`, error);
        return null;
    }
};
const getAssistantStyles = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$cache$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["unstable_cache"])(async (assistantId)=>{
    try {
        return await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].style.findMany({
            where: {
                AssistantConfiguration: {
                    assistantId
                }
            },
            orderBy: {
                created_at: 'asc'
            }
        });
    } catch (error) {
        console.error(`[instructionsClient] Error fetching assistant ${assistantId} styles:`, error);
        return [];
    }
}, [
    'assistantStyles'
], {
    tags: [
        'styles'
    ],
    revalidate: 3600
});
const updateAssistantStyle = async (assistantId, id, data)=>{
    try {
        const updatedData = {
            ...data,
            greeting_templates: data.greeting_templates || undefined,
            response_patterns: data.response_patterns || undefined,
            closing_templates: data.closing_templates || undefined
        };
        return await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].style.update({
            where: {
                id,
                AssistantConfiguration: {
                    assistantId
                }
            },
            data: {
                ...updatedData
            }
        });
    } catch (error) {
        console.error(`[instructionsClient] Error updating assistant ${assistantId} style ${id}:`, error);
        return null;
    }
};
const createAssistantStyle = async (assistantConfigurationId, data)=>{
    try {
        return await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].style.create({
            data: {
                ...data,
                AssistantConfiguration: {
                    connect: {
                        id: assistantConfigurationId
                    }
                }
            }
        });
    } catch (error) {
        console.error(`[instructionsClient] Error creating assistant configuration ${assistantConfigurationId} style:`, error);
        return null;
    }
};
const deleteAssistantStyle = async (id)=>{
    try {
        await await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].style.delete({
            where: {
                id
            }
        });
    } catch (error) {
        console.error(`[instructionsClient] Error deleting style ${id}:`, error);
    }
};
const updateConfigurationInstructions = async (assistantId, data)=>{
    try {
        return await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].assistantConfiguration.update({
            where: {
                assistantId
            },
            data
        });
    } catch (error) {
        console.error(`[instructionsClient] Error updating assistant ${assistantId} instructions:`, error);
        throw new Error('Error updating assistant instructions');
    }
};
const getAssistantStages = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$cache$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["unstable_cache"])(async (assistantId)=>{
    try {
        return await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].stage.findMany({
            where: {
                AssistantConfiguration: {
                    assistantId
                }
            },
            orderBy: {
                order: 'asc'
            }
        });
    } catch (error) {
        console.error(`[instructionsClient] Error fetching assistant ${assistantId} stages:`, error);
        return [];
    }
}, [
    'assistantStages'
], {
    tags: [
        'stages'
    ],
    revalidate: 3600
});
const updateAssistantStage = async (assistantId, id, data)=>{
    try {
        return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].stage.update({
            where: {
                id,
                AssistantConfiguration: {
                    assistantId
                }
            },
            data: {
                ...data
            }
        });
    } catch (error) {
        console.error(`[instructionsClient] Error updating assistant ${assistantId} stage ${id}:`, error);
        throw new Error('Error updating assistant stage');
    }
};
const updateAssistantStagesOrder = async (assistantId, stages)=>{
    try {
        return Promise.all(stages.map((stage)=>__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].stage.update({
                where: {
                    id: stage.id,
                    AssistantConfiguration: {
                        assistantId
                    }
                },
                data: {
                    order: stage.order
                }
            })));
    } catch (error) {
        console.error(`[instructionsClient] Error updating assistant ${assistantId} stages:`, error);
        throw new Error('Error updating assistant stages');
    }
};
const getAssistantFirstStage = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$cache$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["unstable_cache"])(async (assistantId, sortingOrder = 'asc', id)=>{
    try {
        const where = !!id ? {
            id
        } : {
            AssistantConfiguration: {
                assistantId
            }
        };
        return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].stage.findFirst({
            where,
            orderBy: {
                order: sortingOrder
            }
        });
    } catch (error) {
        console.error(`[instructionsClient] Error getting assistant ${assistantId} first stage:`, error);
        throw new Error('Error getting assistant first stage');
    }
}, [
    'assistantFirstStage'
], {
    tags: [
        'firstStage'
    ]
});
const createAssistantStage = async (assistantConfigurationId, { name })=>{
    try {
        const lastStage = await getAssistantFirstStage('', 'desc', assistantConfigurationId);
        const order = lastStage ? lastStage.order + 1 : 1;
        return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].stage.create({
            data: {
                name,
                order,
                AssistantConfiguration: {
                    connect: {
                        id: assistantConfigurationId
                    }
                }
            }
        });
    } catch (error) {
        console.error(`[instructionsClient] Error creating assistant configuration ${assistantConfigurationId} stage:`, error);
        throw new Error('Error creating assistant stage');
    }
};
const deleteAssistantStage = async (id)=>{
    try {
        return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].stage.delete({
            where: {
                id
            }
        });
    } catch (error) {
        console.error(`[instructionsClient] Error deleting assistant stage ${id}:`, error);
        throw new Error('Error deleting assistant stage');
    }
};
const getAssistantModerationRules = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$cache$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["unstable_cache"])(async (assistantId)=>{
    try {
        return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].moderationRule.findMany({
            where: {
                AssistantConfiguration: {
                    assistantId
                }
            },
            orderBy: {
                created_at: 'asc'
            },
            include: {
                ModerationTemplate: true
            }
        });
    } catch (error) {
        console.error(`[instructionsClient] Error fetching assistant ${assistantId} moderation rules:`, error);
        return [];
    }
}, [
    'assistantModerationRules'
], {
    tags: [
        'moderationRules'
    ],
    revalidate: 3600
});
const createAssistantModerationRule = async (assistantConfigurationId, data)=>{
    try {
        return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].moderationRule.create({
            data: {
                ...data,
                AssistantConfiguration: {
                    connect: {
                        id: assistantConfigurationId
                    }
                }
            },
            include: {
                ModerationTemplate: true
            }
        });
    } catch (error) {
        console.error(`[instructionsClient] Error creating assistant configuration ${assistantConfigurationId} moderation rule:`, error);
        throw new Error('Error creating assistant moderation rule.');
    }
};
const updateAssistantModerationRule = async (assistantId, id, data)=>{
    try {
        const updatedData = {
            ...data,
            response_template: undefined,
            instructions: data.instructions || undefined,
            updated_at: new Date(),
            ModerationTemplate: data.ModerationTemplate?.length ? {
                updateMany: data.ModerationTemplate.map((template)=>({
                        where: {
                            id: template.id,
                            rule_id: id
                        },
                        data: {
                            ...template,
                            updated_at: new Date()
                        }
                    }))
            } : undefined
        };
        return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].moderationRule.update({
            where: {
                id,
                AssistantConfiguration: {
                    assistantId
                }
            },
            data: {
                ...updatedData
            },
            include: {
                ModerationTemplate: true
            }
        });
    } catch (error) {
        console.error(`[instructionsClient] Error updating assistant ${assistantId} moderation rule:`, error);
        throw new Error('Error creating assistant moderation rule.');
    }
};
const deleteAssistantModerationRule = async (id)=>{
    try {
        return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].moderationRule.delete({
            where: {
                id
            }
        });
    } catch (error) {
        console.error(`[instructionsClient] Error deleting moderation rule ${id}:`, error);
        throw new Error('Error deleting assistant moderation rule.');
    }
};
const createAssistantModerationTemplate = async (_, data)=>{
    try {
        return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].moderationTemplate.create({
            data,
            include: {
                ModerationRule: true
            }
        });
    } catch (error) {
        console.error(`[instructionsClient] Error creating new template for moderation rule ${data.rule_id}:`, error);
        throw new Error('Error creating assistant moderation template.');
    }
};
const updateAssistantModerationTemplate = async (_, id, data)=>{
    try {
        return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].moderationTemplate.update({
            where: {
                id
            },
            data,
            include: {
                ModerationRule: true
            }
        });
    } catch (error) {
        console.error(`[instructionsClient] Error deleting moderation template ${id}:`, error);
        throw new Error('Error deleting assistant moderation template.');
    }
};
const deleteAssistantModerationTemplate = async (id)=>{
    try {
        return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].moderationTemplate.delete({
            where: {
                id
            }
        });
    } catch (error) {
        console.error(`[instructionsClient] Error deleting moderation template ${id}:`, error);
        throw new Error('Error deleting assistant moderation template.');
    }
};
__turbopack_async_result__();
} catch(e) { __turbopack_async_result__(e); } }, false);}),
"[project]/src/server/db/assistantClient.ts [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname, a: __turbopack_async_module__ } = __turbopack_context__;
__turbopack_async_module__(async (__turbopack_handle_async_dependencies__, __turbopack_async_result__) => { try {
/* __next_internal_action_entry_do_not_use__ [{"6003919541e7ca4488840d5713a45132f092dc1514":"upsertAssistantPrice","6014d229b861db0ebf4d17c62051c9024dac7515a3":"deleteUserAssistant","60609ec3e970ab2cde7aca948cb02d539165d26951":"updateAssistantMeta","70c57c267417fba476421bdc7dd6bc96db9bdc3df6":"updateUserAssistant","7f08500eb6467ef932d5f32cbc7aa1088805e67046":"getUserAssitants","7f2cb1e96e28336177c356ac9d1e1653445fa52dcd":"getAssistans","7f34dd803ff77dff9812100e54e5b1999fafa07871":"duplicateAssistant","7f85937f3e79d0ec0ed2e0e658e9d897d80439b7bd":"getAssistantData","7fb52fafb31e6f17fb7c40ab1ee063267ee158e571":"createUserAssistant","7ff4257cec1cc8c98b65e9b54d1d17c02c7c486159":"getAllTemplates"},"",""] */ __turbopack_context__.s({
    "createUserAssistant": (()=>createUserAssistant),
    "deleteUserAssistant": (()=>deleteUserAssistant),
    "duplicateAssistant": (()=>duplicateAssistant),
    "getAllTemplates": (()=>getAllTemplates),
    "getAssistans": (()=>getAssistans),
    "getAssistantData": (()=>getAssistantData),
    "getUserAssitants": (()=>getUserAssitants),
    "updateAssistantMeta": (()=>updateAssistantMeta),
    "updateUserAssistant": (()=>updateUserAssistant),
    "upsertAssistantPrice": (()=>upsertAssistantPrice)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$app$2d$render$2f$encryption$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/app-render/encryption.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$cache$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/cache.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/prisma.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/server/db/configurationClient.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$validate$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js [app-rsc] (ecmascript)");
var __turbopack_async_dependencies__ = __turbopack_handle_async_dependencies__([
    __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__
]);
([__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__] = __turbopack_async_dependencies__.then ? (await __turbopack_async_dependencies__)() : __turbopack_async_dependencies__);
;
;
;
;
;
const getAllTemplates = async ()=>{
    try {
        return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].template.findMany({
            include: {
                stages: true,
                modelConfigs: true
            }
        });
    } catch (error) {
        console.error(`[assistantClient] Error fetching templates:`, error);
        return [];
    }
};
const getUserAssitants = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$cache$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["unstable_cache"])(async (userId, include)=>{
    try {
        return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].assistant.findMany({
            where: {
                userId
            },
            orderBy: {
                created_at: 'desc'
            },
            include
        });
    } catch (error) {
        console.error(`[assistantClient] Error fetching assistants for user ${userId}:`, error);
        return [];
    }
}, [
    'userAssistants'
], {
    tags: [
        'assistants'
    ],
    revalidate: 3600
});
const getAssistans = async (ids, include)=>{
    try {
        return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].assistant.findMany({
            where: {
                id: {
                    in: ids
                }
            },
            include
        });
    } catch (error) {
        console.error(`[assistantClient] Error fetching assistants:`, error);
        return [];
    }
};
const getAssistantData = async (id, include)=>{
    try {
        return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].assistant.findFirst({
            where: {
                id
            },
            include
        });
    } catch (error) {
        console.error(`[assistantClient] Error fetching assistants ${id}:`, error);
        return null;
    }
};
const createUserAssistant = async (userId, data, template)=>{
    try {
        if (!template) {
            console.error('[assistantClient] Could not find initial templater');
            return null;
        }
        return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].$transaction(async (tx)=>{
            const { modelConfigs, stages, instructions, onboarding, onboardingAnalyzer, id } = template;
            const newAssistant = await tx.assistant.create({
                data: {
                    ...data,
                    userId,
                    templateId: id
                }
            });
            await tx.assistantConfiguration.create({
                data: {
                    assistantId: newAssistant.id,
                    templateId: id,
                    instructions,
                    onboarding,
                    onboardingAnalyzer,
                    modelConfigs: {
                        createMany: {
                            data: modelConfigs.map(({ model, temperature, top_p, frequency_penalty, presence_penalty })=>({
                                    model,
                                    temperature,
                                    top_p,
                                    frequency_penalty,
                                    presence_penalty
                                }))
                        }
                    },
                    stages: {
                        createMany: {
                            data: stages.map(({ name, instructions, analyzer, order })=>({
                                    name,
                                    instructions,
                                    analyzer,
                                    order
                                }))
                        }
                    }
                }
            });
            await tx.assistantMeta.create({
                data: {
                    assistantId: newAssistant.id
                }
            });
            return newAssistant;
        });
    } catch (error) {
        console.error(`[assistantClient] Error creating assistant for user ${userId}:`, error);
        return null;
    }
};
const duplicateAssistant = async (userId, original)=>{
    try {
        if (!original) {
            console.error('[assistantClient] No original assistant provided');
            return null;
        }
        return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].$transaction(async (tx)=>{
            const { name, description, mode, meta } = original;
            const configuration = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getFullConfiguration"])(original.id, true);
            const newAssistant = await tx.assistant.create({
                data: {
                    name: `${name} (copy)`,
                    description,
                    userId,
                    mode
                }
            });
            await tx.assistantConfiguration.create({
                data: {
                    assistantId: newAssistant.id,
                    templateId: configuration.templateId,
                    instructions: configuration.instructions,
                    onboarding: configuration.onboarding,
                    onboardingAnalyzer: configuration.onboardingAnalyzer,
                    tokensLimit: configuration.tokensLimit,
                    usageType: configuration.usageType,
                    communicationModes: configuration.communicationModes,
                    modelConfigs: {
                        createMany: {
                            data: configuration.modelConfigs.map(({ model, temperature, top_p, frequency_penalty, presence_penalty })=>({
                                    model,
                                    temperature,
                                    top_p,
                                    frequency_penalty,
                                    presence_penalty
                                }))
                        }
                    },
                    stages: {
                        createMany: {
                            data: configuration.stages.map(({ name, instructions, analyzer, order })=>({
                                    name,
                                    instructions,
                                    analyzer,
                                    order
                                }))
                        }
                    }
                }
            });
            await tx.assistantMeta.create({
                data: {
                    assistantId: newAssistant.id,
                    topics: meta.topics,
                    visibility: meta.visibility,
                    accessLevel: meta.accessLevel,
                    price: meta.price ? {
                        create: {
                            amount: meta.price.amount,
                            monthly: meta.price.monthly,
                            yearly: meta.price.yearly,
                            currency: meta.price.currency,
                            trialDays: meta.price.trialDays
                        }
                    } : undefined
                }
            });
            return newAssistant;
        });
    } catch (error) {
        console.error(`[assistantClient] Error duplicating assistant for user ${userId}:`, error);
        return null;
    }
};
async function updateUserAssistant(userId, id, data) {
    try {
        return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].assistant.update({
            where: {
                userId,
                id
            },
            data
        });
    } catch (error) {
        console.error(`[assistantClient] Error updating user ${userId} assistant ${id}:`, error);
        return null;
    }
}
async function updateAssistantMeta(assistantId, data) {
    try {
        return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].assistantMeta.update({
            where: {
                assistantId
            },
            data
        });
    } catch (error) {
        console.error(`[assistantClient] Error updating user assistant  ${assistantId} meta:`, error);
        return null;
    }
}
async function upsertAssistantPrice(assistantMetaId, data) {
    try {
        return await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].priceConfiguration.upsert({
            where: {
                assistantMetaId
            },
            update: data,
            create: {
                ...data,
                assistantMeta: {
                    connect: {
                        id: assistantMetaId
                    }
                }
            }
        });
    } catch (error) {
        console.error(`[assistantClient] Error updating user assistant meta ${assistantMetaId} price:`, error);
        return null;
    }
}
async function deleteUserAssistant(userId, id) {
    try {
        return __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"].assistant.delete({
            where: {
                userId,
                id
            }
        });
    } catch (error) {
        console.error(`[assistantClient] Error deleting user ${userId} assistant ${id}:`, error);
        return null;
    }
}
;
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$validate$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["ensureServerEntryExports"])([
    getAllTemplates,
    getUserAssitants,
    getAssistans,
    getAssistantData,
    createUserAssistant,
    duplicateAssistant,
    updateUserAssistant,
    updateAssistantMeta,
    upsertAssistantPrice,
    deleteUserAssistant
]);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(getAllTemplates, "7ff4257cec1cc8c98b65e9b54d1d17c02c7c486159", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(getUserAssitants, "7f08500eb6467ef932d5f32cbc7aa1088805e67046", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(getAssistans, "7f2cb1e96e28336177c356ac9d1e1653445fa52dcd", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(getAssistantData, "7f85937f3e79d0ec0ed2e0e658e9d897d80439b7bd", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(createUserAssistant, "7fb52fafb31e6f17fb7c40ab1ee063267ee158e571", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(duplicateAssistant, "7f34dd803ff77dff9812100e54e5b1999fafa07871", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(updateUserAssistant, "70c57c267417fba476421bdc7dd6bc96db9bdc3df6", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(updateAssistantMeta, "60609ec3e970ab2cde7aca948cb02d539165d26951", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(upsertAssistantPrice, "6003919541e7ca4488840d5713a45132f092dc1514", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(deleteUserAssistant, "6014d229b861db0ebf4d17c62051c9024dac7515a3", null);
__turbopack_async_result__();
} catch(e) { __turbopack_async_result__(e); } }, false);}),
"[project]/src/server/actions/assistantActions.ts [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname, a: __turbopack_async_module__ } = __turbopack_context__;
__turbopack_async_module__(async (__turbopack_handle_async_dependencies__, __turbopack_async_result__) => { try {
/* __next_internal_action_entry_do_not_use__ [{"004c1af4f6b28a4d4829101b2c2ca0a5fc13d22c46":"getCurrentAssistant","00b009a3a1a8f8d6ed1d56b0b485271ca245dab4a6":"getTemplates","40bdb1594d9d7edf733766ff35336b4ac35eebc785":"createCopyAssistant","40c332244832b5fdde6acf9572f43631ec3730cc4a":"getAssistants","40dd6c761bfb7b8f199153b185c56dac7979a243bb":"deleteAssistant","6046d8b5cb687c98387129f0a27c6dc38e3cdcbd6a":"getAssistantConfiguration","607001410e8288ea9d2e2ad99c1ae2b7836a8ac437":"updateAssistantMetaPrice","6087e5f7a8234752547ec717956fbb5e6cbf5c6c85":"updateAssistantMetaData","608a31f9228c5cb99f63322f7be67da509d292f5cd":"upsertAssistant"},"",""] */ __turbopack_context__.s({
    "createCopyAssistant": (()=>createCopyAssistant),
    "deleteAssistant": (()=>deleteAssistant),
    "getAssistantConfiguration": (()=>getAssistantConfiguration),
    "getAssistants": (()=>getAssistants),
    "getCurrentAssistant": (()=>getCurrentAssistant),
    "getTemplates": (()=>getTemplates),
    "updateAssistantMetaData": (()=>updateAssistantMetaData),
    "updateAssistantMetaPrice": (()=>updateAssistantMetaPrice),
    "upsertAssistant": (()=>upsertAssistant)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$app$2d$render$2f$encryption$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/app-render/encryption.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$cache$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/cache.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/utils/db.utils.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$assistantClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/server/db/assistantClient.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/server/db/configurationClient.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$sessionActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/server/actions/sessionActions.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$validate$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js [app-rsc] (ecmascript)");
var __turbopack_async_dependencies__ = __turbopack_handle_async_dependencies__([
    __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$assistantClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__,
    __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__
]);
([__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$assistantClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__] = __turbopack_async_dependencies__.then ? (await __turbopack_async_dependencies__)() : __turbopack_async_dependencies__);
;
;
;
;
;
;
;
async function getCurrentAssistant() {
    try {
        const { assistantId } = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$sessionActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["verifySession"])() || {};
        return assistantId || '';
    } catch (error) {
        console.error(`[authActions] Error fetching current assistant`, error);
        return '';
    }
}
async function getTemplates() {
    try {
        const templates = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$assistantClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getAllTemplates"])();
        return templates.map(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["mapRelationConfig"]);
    } catch (e) {
        console.error(`[assistantClient] Error fetching templates:`, e);
        return [];
    }
}
async function getAssistants(include) {
    let userId;
    try {
        userId = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$sessionActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getSessionUser"])();
        if (!userId) return [];
        const assistants = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$assistantClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getUserAssitants"])(userId, include);
        return assistants;
    } catch (e) {
        console.error(`[assistantClient] Error fetching assistants for user ${userId}:`, e);
        return [];
    }
}
async function upsertAssistant({ template, ...assistantData }, id) {
    let userId;
    try {
        userId = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$sessionActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getSessionUser"])();
        let assistant;
        if (!userId) return {
            value: null
        };
        const parsedData = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["assistantSchema"].safeParse({
            template,
            ...assistantData
        });
        if (!parsedData.success) {
            return {
                errors: parsedData.error.errors.map(({ message, path })=>({
                        name: path.join('.'),
                        message
                    }))
            };
        }
        if (!!id) {
            assistant = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$assistantClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["updateUserAssistant"])(userId, id, {
                name: assistantData.name,
                description: assistantData.description,
                mode: assistantData.mode,
                status: assistantData.status
            });
        } else {
            assistant = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$assistantClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["createUserAssistant"])(userId, assistantData, template);
        }
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$cache$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["revalidateTag"])('assistants');
        return {
            value: assistant
        };
    } catch (e) {
        console.error(`[assistantClient] Error ${!!id ? 'updating' : 'creating'} assistant for user ${userId}:`, e);
        return {
            value: null,
            error: ''
        };
    }
}
async function getAssistantConfiguration(id, full = true) {
    let assistantId;
    try {
        assistantId = id || await getCurrentAssistant();
        if (!assistantId) {
            console.warn('Assistant not found or user not authenticated');
            return null;
        }
        return await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getFullConfiguration"])(assistantId || '', full);
    } catch (error) {
        console.error(`[instructionsClient] Error getting assistant ${assistantId} data:`, error);
        return null;
    }
}
async function createCopyAssistant(assistant) {
    try {
        const userId = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$sessionActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getSessionUser"])();
        if (!assistant || !userId) {
            console.warn('Assistant not passed or user not authenticated!');
            return null;
        }
        const copy = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$assistantClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["duplicateAssistant"])(userId, assistant);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$cache$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["revalidateTag"])('assistants');
        return copy;
    } catch (error) {
        console.error(`[instructionsClient] Error creating copy of assistant ${assistant.id}:`, error);
        return null;
    }
}
async function updateAssistantMetaData(id, data) {
    let assistantId;
    try {
        assistantId = id || await getCurrentAssistant();
        if (!assistantId) {
            console.warn('Assistant not found or user not authenticated');
            return null;
        }
        const updatedMeta = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$assistantClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["updateAssistantMeta"])(assistantId, data);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$cache$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["revalidateTag"])('assistants');
        return updatedMeta;
    } catch (error) {
        console.error(`[instructionsClient] Error getting assistant ${assistantId} data:`, error);
        return null;
    }
}
async function updateAssistantMetaPrice(assistant, formData) {
    let assistantId;
    try {
        assistantId = assistant.id || await getCurrentAssistant();
        if (!assistantId) {
            console.warn('Assistant not found or user not authenticated');
            return {
                error: 'General.errors.unexpectedError',
                value: null
            };
        }
        const price = [
            ...formData
        ].reduce((data, [key, value])=>({
                ...data,
                [key]: value
            }), {});
        const validatedData = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["assistantPriceSchema"].parse(price);
        if (validatedData instanceof Error) {
            return {
                error: validatedData.message
            };
        }
        const updatedPrice = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$assistantClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["upsertAssistantPrice"])(assistant.meta?.id || '', {
            ...validatedData,
            trialDays: !!validatedData.trialDays ? 14 : null
        });
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$cache$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["revalidateTag"])('assistants');
        return {
            successMessage: 'General.successMessages.dataSaved',
            value: updatedPrice
        };
    } catch (error) {
        console.error(`[instructionsClient] Error updating assistant ${assistantId} meta price data:`, error);
        return {
            error: 'General.errors.unexpectedError',
            value: null
        };
    }
}
async function deleteAssistant(id) {
    let userId;
    try {
        userId = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$sessionActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getSessionUser"])();
        if (!userId) return;
        await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$assistantClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["deleteUserAssistant"])(userId, id);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$cache$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["revalidateTag"])('assistants');
    } catch (error) {
        console.error(`[assistantClient] Error removing user ${userId} assistant ${id}:`, error);
    }
}
;
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$validate$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["ensureServerEntryExports"])([
    getCurrentAssistant,
    getTemplates,
    getAssistants,
    upsertAssistant,
    getAssistantConfiguration,
    createCopyAssistant,
    updateAssistantMetaData,
    updateAssistantMetaPrice,
    deleteAssistant
]);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(getCurrentAssistant, "004c1af4f6b28a4d4829101b2c2ca0a5fc13d22c46", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(getTemplates, "00b009a3a1a8f8d6ed1d56b0b485271ca245dab4a6", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(getAssistants, "40c332244832b5fdde6acf9572f43631ec3730cc4a", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(upsertAssistant, "608a31f9228c5cb99f63322f7be67da509d292f5cd", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(getAssistantConfiguration, "6046d8b5cb687c98387129f0a27c6dc38e3cdcbd6a", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(createCopyAssistant, "40bdb1594d9d7edf733766ff35336b4ac35eebc785", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(updateAssistantMetaData, "6087e5f7a8234752547ec717956fbb5e6cbf5c6c85", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(updateAssistantMetaPrice, "607001410e8288ea9d2e2ad99c1ae2b7836a8ac437", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(deleteAssistant, "40dd6c761bfb7b8f199153b185c56dac7979a243bb", null);
__turbopack_async_result__();
} catch(e) { __turbopack_async_result__(e); } }, false);}),
"[project]/src/server/actions/instructionsActions.ts [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname, a: __turbopack_async_module__ } = __turbopack_context__;
__turbopack_async_module__(async (__turbopack_handle_async_dependencies__, __turbopack_async_result__) => { try {
/* __next_internal_action_entry_do_not_use__ [{"004ddef650aed9fe805628bc98e161f4e1e980ce2b":"getModerationRules","0077229e3d182bc284cbfa4ef3021cb7694d760dca":"getStyles","00d3e1757c5668df7e38eadbdd7f79edc884195db1":"getFirstStage","4018216bff0b6f1e453bf1d5d3660e338536eeff46":"updateModerationTemplate","40218a5e4dc83ff346dbaf09022aef2ff5549497e8":"deleteStyle","40454bf6a6b30fb871b51f86a6e440956bd6db8862":"createStage","404bdcdd0b88d2a1726c792f9e9e6ef5d1674d8355":"createStyle","404fa2ec160e9f9b7dd7736f513451f3308bf49486":"updateStyle","4050c500a291e41ed54d67d1854209ca9da875ea4b":"deleteModerationTemplate","40c4d67ce1cc5bd4adf3a04a64a98f16c28de17466":"getStages","40d284512e242fb21f0392863f87c70d34935c4496":"deleteModerationRule","40e40e5b27cf322d651077fb8001e33f1f13c1ff3d":"deleteStage","40e96a14d916136b397df63703b685b189b46784e0":"createModerationRule","40f893ccb0638b828a20025d89e6a398dc0f8db092":"updateConfigInstructions","60bd862308545c711b3ea3493a03d8f9abf64726ec":"createModerationTemplate","60debe2174dde7cc9aab31e93e27b411122bcefad9":"updateStage","60f094ac314e8e904bb1373095893a894f3a069a35":"updateStyleTitle","7051b13a06fd32d89aaff7a6649bffeef191565577":"updateStageOrder","70b14c6d1fd92bcf0c63f6338147808e4772544546":"updateModerationRule"},"",""] */ __turbopack_context__.s({
    "createModerationRule": (()=>createModerationRule),
    "createModerationTemplate": (()=>createModerationTemplate),
    "createStage": (()=>createStage),
    "createStyle": (()=>createStyle),
    "deleteModerationRule": (()=>deleteModerationRule),
    "deleteModerationTemplate": (()=>deleteModerationTemplate),
    "deleteStage": (()=>deleteStage),
    "deleteStyle": (()=>deleteStyle),
    "getFirstStage": (()=>getFirstStage),
    "getModerationRules": (()=>getModerationRules),
    "getStages": (()=>getStages),
    "getStyles": (()=>getStyles),
    "updateConfigInstructions": (()=>updateConfigInstructions),
    "updateModerationRule": (()=>updateModerationRule),
    "updateModerationTemplate": (()=>updateModerationTemplate),
    "updateStage": (()=>updateStage),
    "updateStageOrder": (()=>updateStageOrder),
    "updateStyle": (()=>updateStyle),
    "updateStyleTitle": (()=>updateStyleTitle)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$app$2d$render$2f$encryption$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/app-render/encryption.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$cache$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/cache.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/utils/db.utils.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/server/db/configurationClient.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$assistantActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/server/actions/assistantActions.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$validate$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js [app-rsc] (ecmascript)");
var __turbopack_async_dependencies__ = __turbopack_handle_async_dependencies__([
    __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__,
    __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$assistantActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__
]);
([__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$assistantActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__] = __turbopack_async_dependencies__.then ? (await __turbopack_async_dependencies__)() : __turbopack_async_dependencies__);
;
;
;
;
;
;
async function validateAndUpdateItem(data, schema, updateFunction, successMessage, tag) {
    let assistantId;
    try {
        assistantId = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$assistantActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getCurrentAssistant"])();
        if (!assistantId) {
            console.warn('Assistant not found or user not authenticated');
            return {
                error: 'General.errors.noAssistantExist',
                value: null
            };
        }
        const parsedData = schema.safeParse(data);
        if (!parsedData.success) {
            return {
                errors: parsedData.error.errors.map(({ message, path })=>({
                        name: path.join('.'),
                        message
                    }))
            };
        }
        const value = await updateFunction(assistantId, data.id, parsedData.data);
        tag && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$cache$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["revalidateTag"])(tag);
        return {
            successMessage,
            value
        };
    } catch (error) {
        console.error(`[instructionsActions] Error during updating '${data.id}' ${tag} item : `, error);
        return {
            error: 'Instructions.systemInstruction.errors.saveFailed',
            value: data
        };
    }
}
async function createItem(data, createFunction, successMessage, tags = []) {
    let assistantConfigId;
    try {
        const assistantConfig = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$assistantActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getAssistantConfiguration"])();
        assistantConfigId = assistantConfig?.id;
        if (!assistantConfigId) {
            console.warn('Assistant not found or user not authenticated');
            return {
                error: 'General.errors.noAssistantExist',
                value: null
            };
        }
        const createdItem = await createFunction(assistantConfigId, data);
        tags.forEach(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$cache$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["revalidateTag"]);
        return {
            successMessage,
            value: createdItem
        };
    } catch (error) {
        console.error(`[instructionsActions] Error during creating ${tags?.[0]} item`, error);
        return {
            error: 'Instructions.systemInstruction.errors.saveFailed'
        };
    }
}
async function getItems(getFunction, tag, id) {
    let assistantId;
    try {
        assistantId = id || await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$assistantActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getCurrentAssistant"])();
        if (!assistantId) {
            console.warn('Assistant not found or user not authenticated');
            return [];
        }
        return getFunction(assistantId);
    } catch (error) {
        console.error(`[instructionsActions] Error during getting assistant '${assistantId}'  ${tag} data`, error);
        return [];
    }
}
async function deleteItem(id, deleteFunction, successMessage, tags = []) {
    try {
        await deleteFunction(id);
        tags.forEach(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$cache$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["revalidateTag"]);
        return {
            successMessage,
            value: null
        };
    } catch (error) {
        console.error(`[instructionsActions] Error during deleting '${id}'  ${tags[0]} data.`, error);
        return {
            error: 'Instructions.systemInstruction.errors.saveFailed'
        };
    }
}
async function updateConfigInstructions(formData) {
    let assistantId;
    try {
        assistantId = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$assistantActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getCurrentAssistant"])() || '';
        const formInstructions = formData?.get('instructions');
        const formOnboarding = formData?.get('onboarding');
        const validatedData = formInstructions && __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["instructionSchema"].parse({
            instructions: formInstructions
        });
        if (validatedData instanceof Error) {
            return {
                error: validatedData.message
            };
        }
        const { instructions, onboarding } = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["updateConfigurationInstructions"])(assistantId, {
            instructions: !!formInstructions ? formInstructions : undefined,
            onboarding: !!formOnboarding ? formOnboarding : undefined
        });
        return {
            successMessage: 'Instructions.systemInstruction.successMessages',
            value: {
                instructions,
                onboarding
            }
        };
    } catch (error) {
        console.error(`[instructionsClient] Error updating assistant ${assistantId} instructions:`, error);
        return {
            error: 'Instructions.systemInstruction.errors.saveFailed'
        };
    }
}
async function getStyles() {
    const styles = await getItems(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getAssistantStyles"], 'styles') || [];
    return styles.map(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["mapStyleData"]);
}
async function updateStyle(style) {
    const styleData = {
        ...style,
        greeting_templates: JSON.stringify(style.greeting_templates.split('\n')),
        response_patterns: JSON.stringify(style.response_patterns.split('\n')),
        closing_templates: JSON.stringify(style.closing_templates.split('\n'))
    };
    const result = await validateAndUpdateItem(styleData, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["styleSchema"], __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["updateAssistantStyle"], 'Instructions.Styles.successMessage', 'styles');
    return {
        ...result,
        value: result.value ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["mapStyleData"])(result.value) : result.value
    };
}
async function updateStyleTitle(id, title) {
    let assistantId;
    try {
        assistantId = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$assistantActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getCurrentAssistant"])() || '';
        const value = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["updateAssistantStyle"])(assistantId || '', id, {
            ...__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["defaultStyleData"],
            title,
            assistantId
        });
        return {
            successMessage: 'General.successMessages.dataSaved',
            value: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["mapStyleData"])(value)
        };
    } catch (error) {
        console.error(`[instructionsClient] Error updating style ${id} title:`, error);
        return {
            error: 'General.errors.unexpectedError',
            value: null
        };
    }
}
async function createStyle(title) {
    return createItem({
        ...__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["defaultStyleData"],
        title
    }, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["createAssistantStyle"], 'General.successMessages.dataSaved', [
        'styles'
    ]);
}
async function deleteStyle(id) {
    return deleteItem(id, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["deleteAssistantStyle"], 'General.successMessages.dataDeleted', [
        'styles'
    ]);
}
async function getStages(id) {
    return getItems(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getAssistantStages"], 'stages', id);
}
async function getFirstStage() {
    return getItems(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getAssistantFirstStage"], 'first stage');
}
async function updateStage(stage, onlyName) {
    return validateAndUpdateItem(stage, onlyName ? __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["nameSchema"] : __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["stageSchema"], __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["updateAssistantStage"], 'Instructions.systemInstruction.successMessages', 'stages');
}
async function updateStageOrder(targetStage, changedOrder, stages) {
    let assistantId;
    try {
        assistantId = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$assistantActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getCurrentAssistant"])();
        if (!assistantId) {
            console.warn('Assistant not found or user not authenticated');
            return [];
        }
        const newOrder = targetStage.order + changedOrder;
        const updatedStages = stages.map((stage)=>{
            if (stage.id === targetStage.id) {
                return {
                    ...targetStage,
                    order: newOrder
                };
            }
            if (stage.order === newOrder) {
                return {
                    ...stage,
                    order: stage.order - changedOrder || stage.order + changedOrder
                };
            }
            return stage;
        });
        await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["updateAssistantStagesOrder"])(assistantId, updatedStages);
        [
            'stages',
            'firstStage'
        ].forEach(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$cache$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["revalidateTag"]);
        return updatedStages.sort((a, b)=>a.order - b.order);
    } catch (error) {
        console.error(`[instructionsClient] Error updating assistant ${assistantId} stages order:`, error);
        return [];
    }
}
async function createStage(name) {
    return createItem({
        name
    }, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["createAssistantStage"], 'General.successMessages.dataSaved', [
        'stages',
        'firstStage'
    ]);
}
async function deleteStage(id) {
    return deleteItem(id, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["deleteAssistantStage"], 'General.successMessages.dataDeleted', [
        'stages',
        'firstStage'
    ]);
}
async function getModerationRules() {
    const rules = await getItems(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getAssistantModerationRules"], 'moderation rules');
    return rules.map((rule)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["mapPrismaModerationData"])(rule));
}
async function createModerationRule(name) {
    const state = await createItem({
        ...__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["defaultModerationRule"],
        name
    }, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["createAssistantModerationRule"], 'General.successMessages.dataSaved', [
        'moderationRules'
    ]);
    return {
        ...state,
        value: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["mapPrismaModerationData"])(state.value)
    };
}
async function updateModerationRule(rule, onlyName = false, selectedTemplates = []) {
    const state = await validateAndUpdateItem((0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["mapModerationRule"])(rule, selectedTemplates), onlyName ? __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["nameSchema"] : __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["moderationRuleSchema"], __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["updateAssistantModerationRule"], 'General.successMessages.dataSaved', 'moderationRules');
    return {
        ...state,
        value: state.value ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["mapPrismaModerationData"])(state.value, selectedTemplates) : state.value
    };
}
async function deleteModerationRule(id) {
    return deleteItem(id, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["deleteAssistantModerationRule"], 'General.successMessages.dataDeleted', [
        'moderationRules'
    ]);
}
async function createModerationTemplate(category, rule_id) {
    if (!rule_id) return {
        error: 'Instructions.ModerationRules.settings.noRuleSelectedError',
        value: null
    };
    const template = await createItem({
        rule_id,
        category,
        response_template: ''
    }, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["createAssistantModerationTemplate"], 'General.successMessages.dataSaved');
    return template;
}
async function updateModerationTemplate(template) {
    const state = await validateAndUpdateItem(template, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$db$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["categorySchema"], __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["updateAssistantModerationTemplate"], 'General.successMessages.dataSaved');
    return state;
}
async function deleteModerationTemplate(id) {
    return deleteItem(id, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$db$2f$configurationClient$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["deleteAssistantModerationTemplate"], 'General.successMessages.dataDeleted');
}
;
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$validate$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["ensureServerEntryExports"])([
    updateConfigInstructions,
    getStyles,
    updateStyle,
    updateStyleTitle,
    createStyle,
    deleteStyle,
    getStages,
    getFirstStage,
    updateStage,
    updateStageOrder,
    createStage,
    deleteStage,
    getModerationRules,
    createModerationRule,
    updateModerationRule,
    deleteModerationRule,
    createModerationTemplate,
    updateModerationTemplate,
    deleteModerationTemplate
]);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(updateConfigInstructions, "40f893ccb0638b828a20025d89e6a398dc0f8db092", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(getStyles, "0077229e3d182bc284cbfa4ef3021cb7694d760dca", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(updateStyle, "404fa2ec160e9f9b7dd7736f513451f3308bf49486", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(updateStyleTitle, "60f094ac314e8e904bb1373095893a894f3a069a35", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(createStyle, "404bdcdd0b88d2a1726c792f9e9e6ef5d1674d8355", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(deleteStyle, "40218a5e4dc83ff346dbaf09022aef2ff5549497e8", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(getStages, "40c4d67ce1cc5bd4adf3a04a64a98f16c28de17466", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(getFirstStage, "00d3e1757c5668df7e38eadbdd7f79edc884195db1", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(updateStage, "60debe2174dde7cc9aab31e93e27b411122bcefad9", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(updateStageOrder, "7051b13a06fd32d89aaff7a6649bffeef191565577", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(createStage, "40454bf6a6b30fb871b51f86a6e440956bd6db8862", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(deleteStage, "40e40e5b27cf322d651077fb8001e33f1f13c1ff3d", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(getModerationRules, "004ddef650aed9fe805628bc98e161f4e1e980ce2b", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(createModerationRule, "40e96a14d916136b397df63703b685b189b46784e0", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(updateModerationRule, "70b14c6d1fd92bcf0c63f6338147808e4772544546", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(deleteModerationRule, "40d284512e242fb21f0392863f87c70d34935c4496", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(createModerationTemplate, "60bd862308545c711b3ea3493a03d8f9abf64726ec", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(updateModerationTemplate, "4018216bff0b6f1e453bf1d5d3660e338536eeff46", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(deleteModerationTemplate, "4050c500a291e41ed54d67d1854209ca9da875ea4b", null);
__turbopack_async_result__();
} catch(e) { __turbopack_async_result__(e); } }, false);}),
"[project]/src/shared/assistant/AssistantSelect.tsx (client reference/proxy) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "AssistantSelectBase": (()=>AssistantSelectBase),
    "default": (()=>__TURBOPACK__default__export__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const AssistantSelectBase = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call AssistantSelectBase() from the server but AssistantSelectBase is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/assistant/AssistantSelect.tsx <module evaluation>", "AssistantSelectBase");
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/src/shared/assistant/AssistantSelect.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/assistant/AssistantSelect.tsx <module evaluation>", "default");
}}),
"[project]/src/shared/assistant/AssistantSelect.tsx (client reference/proxy)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "AssistantSelectBase": (()=>AssistantSelectBase),
    "default": (()=>__TURBOPACK__default__export__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const AssistantSelectBase = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call AssistantSelectBase() from the server but AssistantSelectBase is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/assistant/AssistantSelect.tsx", "AssistantSelectBase");
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/src/shared/assistant/AssistantSelect.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/assistant/AssistantSelect.tsx", "default");
}}),
"[project]/src/shared/assistant/AssistantSelect.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$assistant$2f$AssistantSelect$2e$tsx__$28$client__reference$2f$proxy$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/src/shared/assistant/AssistantSelect.tsx (client reference/proxy) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$assistant$2f$AssistantSelect$2e$tsx__$28$client__reference$2f$proxy$29$__ = __turbopack_context__.i("[project]/src/shared/assistant/AssistantSelect.tsx (client reference/proxy)");
;
__turbopack_context__.n(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$assistant$2f$AssistantSelect$2e$tsx__$28$client__reference$2f$proxy$29$__);
}}),
"[project]/src/shared/Button.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "Button": (()=>Button)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/client/app-dir/link.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tailwind$2d$merge$2f$dist$2f$bundle$2d$mjs$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tailwind-merge/dist/bundle-mjs.mjs [app-rsc] (ecmascript)");
;
;
;
const baseStyles = 'inline-flex border border-transparent items-center justify-center gap-x-2 rounded-lg py-2 px-5 font-medium text-base disabled:opacty-30 disabled:pointer-events-none';
const variantStyles = {
    solid: {
        primary: 'bg-dark-aquamarine text-white hover:bg-transparent hover:text-dark-aquamarine hover:border-dark-aquamarine',
        gray: 'bg-white/[8%] border-background-border/[16%] text-light-gray hover:border-main hover:text-main',
        aquamarine: 'bg-white/[8%] border-background-border/[18%] text-dark-aquamarine hover:bg-dark-aquamarine hover:text-main',
        dark: 'bg-background text-main hover:bg-main hover:text-background ',
        light: 'bg-main text-background hover:bg-storm-gray hover:border-main hover:text-main'
    },
    outline: {
        darkGray: 'border-dark-gray text-light-gray hover:text-main hover:border-storm-gray',
        red: 'border-salmon text-salmon hover:text-main hover:border-main'
    },
    dashed: {
        gray: 'border border-dashed border-storm-gray text-light-gray hover:border-main hover:text-main'
    }
};
function Button({ className, variant, color, ...props }) {
    const variantConfig = variant ? variantStyles[variant] : undefined;
    className = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tailwind$2d$merge$2f$dist$2f$bundle$2d$mjs$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["twMerge"])(baseStyles, variantConfig && color && variantConfig[color], className);
    return typeof props.href === 'undefined' ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tailwind$2d$merge$2f$dist$2f$bundle$2d$mjs$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["twMerge"])('disabled:cursor-not-allowed disabled:opacity-75', className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/shared/Button.tsx",
        lineNumber: 41,
        columnNumber: 5
    }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"], {
        prefetch: false,
        className: className,
        ...props
    }, void 0, false, {
        fileName: "[project]/src/shared/Button.tsx",
        lineNumber: 43,
        columnNumber: 5
    }, this);
}
}}),
"[project]/src/shared/FunctionalButtons.tsx (client reference/proxy) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "AccountToggleButton": (()=>AccountToggleButton),
    "AsideToggleButton": (()=>AsideToggleButton),
    "CopyToClipboardButton": (()=>CopyToClipboardButton),
    "ExportAssistantButton": (()=>ExportAssistantButton),
    "ExportChatButton": (()=>ExportChatButton),
    "NewAssistantButton": (()=>NewAssistantButton),
    "NewChatButton": (()=>NewChatButton),
    "default": (()=>__TURBOPACK__default__export__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const AccountToggleButton = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call AccountToggleButton() from the server but AccountToggleButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/FunctionalButtons.tsx <module evaluation>", "AccountToggleButton");
const AsideToggleButton = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call AsideToggleButton() from the server but AsideToggleButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/FunctionalButtons.tsx <module evaluation>", "AsideToggleButton");
const CopyToClipboardButton = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call CopyToClipboardButton() from the server but CopyToClipboardButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/FunctionalButtons.tsx <module evaluation>", "CopyToClipboardButton");
const ExportAssistantButton = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call ExportAssistantButton() from the server but ExportAssistantButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/FunctionalButtons.tsx <module evaluation>", "ExportAssistantButton");
const ExportChatButton = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call ExportChatButton() from the server but ExportChatButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/FunctionalButtons.tsx <module evaluation>", "ExportChatButton");
const NewAssistantButton = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call NewAssistantButton() from the server but NewAssistantButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/FunctionalButtons.tsx <module evaluation>", "NewAssistantButton");
const NewChatButton = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call NewChatButton() from the server but NewChatButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/FunctionalButtons.tsx <module evaluation>", "NewChatButton");
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/src/shared/FunctionalButtons.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/FunctionalButtons.tsx <module evaluation>", "default");
}}),
"[project]/src/shared/FunctionalButtons.tsx (client reference/proxy)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "AccountToggleButton": (()=>AccountToggleButton),
    "AsideToggleButton": (()=>AsideToggleButton),
    "CopyToClipboardButton": (()=>CopyToClipboardButton),
    "ExportAssistantButton": (()=>ExportAssistantButton),
    "ExportChatButton": (()=>ExportChatButton),
    "NewAssistantButton": (()=>NewAssistantButton),
    "NewChatButton": (()=>NewChatButton),
    "default": (()=>__TURBOPACK__default__export__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const AccountToggleButton = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call AccountToggleButton() from the server but AccountToggleButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/FunctionalButtons.tsx", "AccountToggleButton");
const AsideToggleButton = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call AsideToggleButton() from the server but AsideToggleButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/FunctionalButtons.tsx", "AsideToggleButton");
const CopyToClipboardButton = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call CopyToClipboardButton() from the server but CopyToClipboardButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/FunctionalButtons.tsx", "CopyToClipboardButton");
const ExportAssistantButton = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call ExportAssistantButton() from the server but ExportAssistantButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/FunctionalButtons.tsx", "ExportAssistantButton");
const ExportChatButton = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call ExportChatButton() from the server but ExportChatButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/FunctionalButtons.tsx", "ExportChatButton");
const NewAssistantButton = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call NewAssistantButton() from the server but NewAssistantButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/FunctionalButtons.tsx", "NewAssistantButton");
const NewChatButton = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call NewChatButton() from the server but NewChatButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/FunctionalButtons.tsx", "NewChatButton");
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/src/shared/FunctionalButtons.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/FunctionalButtons.tsx", "default");
}}),
"[project]/src/shared/FunctionalButtons.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$FunctionalButtons$2e$tsx__$28$client__reference$2f$proxy$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/src/shared/FunctionalButtons.tsx (client reference/proxy) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$FunctionalButtons$2e$tsx__$28$client__reference$2f$proxy$29$__ = __turbopack_context__.i("[project]/src/shared/FunctionalButtons.tsx (client reference/proxy)");
;
__turbopack_context__.n(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$FunctionalButtons$2e$tsx__$28$client__reference$2f$proxy$29$__);
}}),
"[project]/src/shared/Logo.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "Logo": (()=>Logo)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/image.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/client/app-dir/link.js [app-rsc] (ecmascript)");
;
;
;
;
const Logo = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["memo"])(function Logo({ className }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"], {
        prefetch: false,
        className: `relative z-10 flex h-6 items-center sm:h-7 xl:h-8 ${className}`,
        href: "/",
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"], {
            src: '/images/StudioAiCoachLogo.svg',
            alt: "CoachBot logo",
            className: 'h-full w-auto',
            priority: true,
            width: 100,
            height: 20
        }, void 0, false, {
            fileName: "[project]/src/shared/Logo.tsx",
            lineNumber: 8,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/src/shared/Logo.tsx",
        lineNumber: 7,
        columnNumber: 5
    }, this);
});
}}),
"[project]/src/shared/ThemeToggler.tsx (client reference/proxy) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "ThemeToggler": (()=>ThemeToggler)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const ThemeToggler = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call ThemeToggler() from the server but ThemeToggler is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/ThemeToggler.tsx <module evaluation>", "ThemeToggler");
}}),
"[project]/src/shared/ThemeToggler.tsx (client reference/proxy)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "ThemeToggler": (()=>ThemeToggler)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const ThemeToggler = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call ThemeToggler() from the server but ThemeToggler is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/ThemeToggler.tsx", "ThemeToggler");
}}),
"[project]/src/shared/ThemeToggler.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$ThemeToggler$2e$tsx__$28$client__reference$2f$proxy$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/src/shared/ThemeToggler.tsx (client reference/proxy) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$ThemeToggler$2e$tsx__$28$client__reference$2f$proxy$29$__ = __turbopack_context__.i("[project]/src/shared/ThemeToggler.tsx (client reference/proxy)");
;
__turbopack_context__.n(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$ThemeToggler$2e$tsx__$28$client__reference$2f$proxy$29$__);
}}),
"[project]/src/shared/layout/TopNavigation.tsx (client reference/proxy) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>__TURBOPACK__default__export__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/src/shared/layout/TopNavigation.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/layout/TopNavigation.tsx <module evaluation>", "default");
}}),
"[project]/src/shared/layout/TopNavigation.tsx (client reference/proxy)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>__TURBOPACK__default__export__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/src/shared/layout/TopNavigation.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/layout/TopNavigation.tsx", "default");
}}),
"[project]/src/shared/layout/TopNavigation.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$layout$2f$TopNavigation$2e$tsx__$28$client__reference$2f$proxy$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/src/shared/layout/TopNavigation.tsx (client reference/proxy) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$layout$2f$TopNavigation$2e$tsx__$28$client__reference$2f$proxy$29$__ = __turbopack_context__.i("[project]/src/shared/layout/TopNavigation.tsx (client reference/proxy)");
;
__turbopack_context__.n(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$layout$2f$TopNavigation$2e$tsx__$28$client__reference$2f$proxy$29$__);
}}),
"[project]/src/shared/layout/Header.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>Header)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$intl$2f$dist$2f$esm$2f$development$2f$server$2f$react$2d$server$2f$getTranslations$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$export__default__as__getTranslations$3e$__ = __turbopack_context__.i("[project]/node_modules/next-intl/dist/esm/development/server/react-server/getTranslations.js [app-rsc] (ecmascript) <export default as getTranslations>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tailwind$2d$merge$2f$dist$2f$bundle$2d$mjs$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tailwind-merge/dist/bundle-mjs.mjs [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$constants$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/constants.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$common$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/utils/common.utils.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$sessionActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/server/actions/sessionActions.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$Button$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/shared/Button.tsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$FunctionalButtons$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/shared/FunctionalButtons.tsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$Logo$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/shared/Logo.tsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$ThemeToggler$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/shared/ThemeToggler.tsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$layout$2f$TopNavigation$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/shared/layout/TopNavigation.tsx [app-rsc] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
const getNavigationOptions = (hidden)=>[
        {
            id: 'nav-dashboard',
            label: 'General.Header.navigation.3',
            icon: 'cbi-dashboard',
            href: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$constants$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["PrivateRoutes"].dashboard,
            hidden
        },
        {
            id: 'nav-chat',
            label: 'General.Header.navigation.0',
            icon: 'cbi-messages',
            href: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$constants$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["PrivateRoutes"].chat
        },
        {
            id: 'nav-instructions',
            label: 'General.Header.navigation.1',
            icon: 'cbi-setting',
            href: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$constants$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["PrivateRoutes"].instructions
        },
        {
            id: 'nav-content',
            label: 'General.Header.navigation.2',
            icon: 'cbi-folder-add',
            href: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$constants$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["PrivateRoutes"].content
        },
        {
            id: 'nav-configuration',
            label: 'General.Header.navigation.4',
            icon: 'cbi-folder-add',
            href: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$constants$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["PrivateRoutes"].configuration,
            hidden
        }
    ];
async function Header({ className, withAsideToggle = false }) {
    const [t, userId] = await Promise.all([
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$intl$2f$dist$2f$esm$2f$development$2f$server$2f$react$2d$server$2f$getTranslations$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$export__default__as__getTranslations$3e$__["getTranslations"])(),
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$sessionActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getSessionUser"])()
    ]);
    const isAllowedUser = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2f$common$2e$utils$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getIsAllowedUser"])(userId);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("header", {
        className: `flex items-center justify-between gap-x-3 py-1.5 xl:gap-x-10 2xl:gap-x-16 ${className ?? ''}`,
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: 'flex w-full items-center gap-x-5',
                children: [
                    withAsideToggle && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$FunctionalButtons$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["AsideToggleButton"], {
                        label: t('General.Header.openSidebarButton'),
                        open: true,
                        id: "sidebar-toggle"
                    }, void 0, false, {
                        fileName: "[project]/src/shared/layout/Header.tsx",
                        lineNumber: 52,
                        columnNumber: 11
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$layout$2f$TopNavigation$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"], {
                        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tailwind$2d$merge$2f$dist$2f$bundle$2d$mjs$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["twMerge"])(isAllowedUser && 'max-w-3xl flex-nowrap 2xl:max-w-4xl 3xl:max-w-5xl'),
                        variant: "main",
                        navigationOptions: getNavigationOptions(!isAllowedUser)
                    }, void 0, false, {
                        fileName: "[project]/src/shared/layout/Header.tsx",
                        lineNumber: 54,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/shared/layout/Header.tsx",
                lineNumber: 50,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex shrink-0 items-center gap-x-5",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$ThemeToggler$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["ThemeToggler"], {}, void 0, false, {
                        fileName: "[project]/src/shared/layout/Header.tsx",
                        lineNumber: 61,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$Logo$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["Logo"], {}, void 0, false, {
                        fileName: "[project]/src/shared/layout/Header.tsx",
                        lineNumber: 62,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$Button$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["Button"], {
                        variant: "outline",
                        color: "darkGray",
                        href: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$constants$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["PrivateRoutes"].account,
                        className: "cbi-profile-circle px-3 text-xl"
                    }, void 0, false, {
                        fileName: "[project]/src/shared/layout/Header.tsx",
                        lineNumber: 63,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/shared/layout/Header.tsx",
                lineNumber: 60,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/shared/layout/Header.tsx",
        lineNumber: 49,
        columnNumber: 5
    }, this);
}
}}),
"[project]/src/shared/Loaders.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "FullScreenLoader": (()=>FullScreenLoader),
    "Spinner": (()=>Spinner)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tailwind$2d$merge$2f$dist$2f$bundle$2d$mjs$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tailwind-merge/dist/bundle-mjs.mjs [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$Logo$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/shared/Logo.tsx [app-rsc] (ecmascript)");
;
;
;
;
const Spinner = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["memo"])(function Spinner({ className, withText, text, textClassName, icon = 'cbi-Loader' }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["Fragment"], {
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
            className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tailwind$2d$merge$2f$dist$2f$bundle$2d$mjs$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["twMerge"])('flex items-center gap-x-3 text-xl', className),
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                    className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tailwind$2d$merge$2f$dist$2f$bundle$2d$mjs$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["twMerge"])('gradient-loader inline-flex animate-spin text-xl', icon)
                }, void 0, false, {
                    fileName: "[project]/src/shared/Loaders.tsx",
                    lineNumber: 22,
                    columnNumber: 9
                }, this),
                withText && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                    className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tailwind$2d$merge$2f$dist$2f$bundle$2d$mjs$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["twMerge"])('text-sm text-light-gray', textClassName),
                    children: text ?? 'Loading...'
                }, void 0, false, {
                    fileName: "[project]/src/shared/Loaders.tsx",
                    lineNumber: 23,
                    columnNumber: 22
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/src/shared/Loaders.tsx",
            lineNumber: 21,
            columnNumber: 7
        }, this)
    }, void 0, false);
});
const FullScreenLoader = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["memo"])(function FullScreenLoader({ className }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["Fragment"], {
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("main", {
            className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tailwind$2d$merge$2f$dist$2f$bundle$2d$mjs$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["twMerge"])('flex h-svh w-svw flex-col items-center justify-center', className),
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex flex-col items-center gap-y-7",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$Logo$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["Logo"], {
                        className: "h-8 sm:h-10 xl:h-12"
                    }, void 0, false, {
                        fileName: "[project]/src/shared/Loaders.tsx",
                        lineNumber: 34,
                        columnNumber: 11
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(Spinner, {
                        withText: true,
                        className: "text-2xl"
                    }, void 0, false, {
                        fileName: "[project]/src/shared/Loaders.tsx",
                        lineNumber: 35,
                        columnNumber: 11
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/shared/Loaders.tsx",
                lineNumber: 33,
                columnNumber: 9
            }, this)
        }, void 0, false, {
            fileName: "[project]/src/shared/Loaders.tsx",
            lineNumber: 32,
            columnNumber: 7
        }, this)
    }, void 0, false);
});
}}),
"[project]/src/shared/Layout.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "AuthLayout": (()=>AuthLayout),
    "MainLayout": (()=>MainLayout),
    "WithSidebarLayout": (()=>WithSidebarLayout)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$shared$2f$lib$2f$app$2d$dynamic$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/shared/lib/app-dynamic.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tailwind$2d$merge$2f$dist$2f$bundle$2d$mjs$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/tailwind-merge/dist/bundle-mjs.mjs [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contexts$2f$AsideContext$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/contexts/AsideContext.tsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$assistant$2f$AssistantSelect$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/shared/assistant/AssistantSelect.tsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$layout$2f$Header$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/shared/layout/Header.tsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$Loaders$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/shared/Loaders.tsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$Logo$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/shared/Logo.tsx [app-rsc] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
const Sidebar = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$shared$2f$lib$2f$app$2d$dynamic$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"])(()=>__turbopack_context__.r("[project]/src/shared/Sidebar.tsx [app-rsc] (ecmascript, next/dynamic entry, async loader)")(__turbopack_context__.i), {
    loadableGenerated: {
        modules: [
            "[project]/src/shared/Sidebar.tsx [app-client] (ecmascript, next/dynamic entry)"
        ]
    },
    loading: ()=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "w-0"
        }, void 0, false, {
            fileName: "[project]/src/shared/Layout.tsx",
            lineNumber: 12,
            columnNumber: 18
        }, this)
});
function AuthLayout({ children }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("main", {
        className: "flex h-svh w-svw flex-col items-center justify-center",
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("section", {
            className: "justify-ceneter flex min-w-0 max-w-3xl flex-col items-center gap-10 md:flex-row lg:w-[50vw]",
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "basisi-1/2 flex min-w-0 shrink-0 flex-grow flex-col",
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$Logo$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["Logo"], {
                        className: "!h-10 sm:!h-14 xl:h-14"
                    }, void 0, false, {
                        fileName: "[project]/src/shared/Layout.tsx",
                        lineNumber: 26,
                        columnNumber: 11
                    }, this)
                }, void 0, false, {
                    fileName: "[project]/src/shared/Layout.tsx",
                    lineNumber: 25,
                    columnNumber: 9
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "relative flex shrink-0 flex-grow basis-1/2 flex-col rounded-xl border border-storm-gray bg-white/[8%] p-6",
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["Suspense"], {
                        children: children
                    }, void 0, false, {
                        fileName: "[project]/src/shared/Layout.tsx",
                        lineNumber: 29,
                        columnNumber: 11
                    }, this)
                }, void 0, false, {
                    fileName: "[project]/src/shared/Layout.tsx",
                    lineNumber: 28,
                    columnNumber: 9
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/src/shared/Layout.tsx",
            lineNumber: 24,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/src/shared/Layout.tsx",
        lineNumber: 23,
        columnNumber: 5
    }, this);
}
function MainLayout({ children, mainClassName, sidebarContent }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contexts$2f$AsideContext$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["AsideContextProvider"], {
        isOpen: false,
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["Suspense"], {
            fallback: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$Loaders$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["FullScreenLoader"], {}, void 0, false, {
                fileName: "[project]/src/shared/Layout.tsx",
                lineNumber: 39,
                columnNumber: 27
            }, void 0),
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("main", {
                className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$tailwind$2d$merge$2f$dist$2f$bundle$2d$mjs$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["twMerge"])('fixed-container flex h-full max-h-dvh max-w-full flex-nowrap p-2.5 md:flex-row', mainClassName),
                children: [
                    sidebarContent && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(Sidebar, {
                        titleClassName: "min-h-14",
                        children: sidebarContent
                    }, void 0, false, {
                        fileName: "[project]/src/shared/Layout.tsx",
                        lineNumber: 46,
                        columnNumber: 30
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("section", {
                        className: "flex max-h-dvh min-h-0 w-full flex-grow flex-col gap-y-2 overflow-y-auto overflow-x-hidden",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$layout$2f$Header$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"], {
                                withAsideToggle: true
                            }, void 0, false, {
                                fileName: "[project]/src/shared/Layout.tsx",
                                lineNumber: 49,
                                columnNumber: 13
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "relative flex min-h-0 flex-grow flex-col",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$assistant$2f$AssistantSelect$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"], {}, void 0, false, {
                                        fileName: "[project]/src/shared/Layout.tsx",
                                        lineNumber: 51,
                                        columnNumber: 15
                                    }, this),
                                    children
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/shared/Layout.tsx",
                                lineNumber: 50,
                                columnNumber: 13
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/shared/Layout.tsx",
                        lineNumber: 48,
                        columnNumber: 11
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/shared/Layout.tsx",
                lineNumber: 40,
                columnNumber: 9
            }, this)
        }, void 0, false, {
            fileName: "[project]/src/shared/Layout.tsx",
            lineNumber: 39,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/src/shared/Layout.tsx",
        lineNumber: 38,
        columnNumber: 5
    }, this);
}
function WithSidebarLayout({ children, sidebar }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contexts$2f$AsideContext$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["AsideContextProvider"], {
        isOpen: false,
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("section", {
            className: "relative flex flex-grow rounded-xl",
            children: [
                sidebar,
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex min-h-0 min-w-0 flex-grow basis-full flex-col",
                    children: children
                }, void 0, false, {
                    fileName: "[project]/src/shared/Layout.tsx",
                    lineNumber: 66,
                    columnNumber: 9
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/src/shared/Layout.tsx",
            lineNumber: 64,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/src/shared/Layout.tsx",
        lineNumber: 63,
        columnNumber: 5
    }, this);
}
}}),
"[project]/src/shared/onboarding/OnboardingTour.tsx (client reference/proxy) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>__TURBOPACK__default__export__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/src/shared/onboarding/OnboardingTour.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/onboarding/OnboardingTour.tsx <module evaluation>", "default");
}}),
"[project]/src/shared/onboarding/OnboardingTour.tsx (client reference/proxy)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>__TURBOPACK__default__export__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/src/shared/onboarding/OnboardingTour.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/shared/onboarding/OnboardingTour.tsx", "default");
}}),
"[project]/src/shared/onboarding/OnboardingTour.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$onboarding$2f$OnboardingTour$2e$tsx__$28$client__reference$2f$proxy$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/src/shared/onboarding/OnboardingTour.tsx (client reference/proxy) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$onboarding$2f$OnboardingTour$2e$tsx__$28$client__reference$2f$proxy$29$__ = __turbopack_context__.i("[project]/src/shared/onboarding/OnboardingTour.tsx (client reference/proxy)");
;
__turbopack_context__.n(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$onboarding$2f$OnboardingTour$2e$tsx__$28$client__reference$2f$proxy$29$__);
}}),
"[project]/src/app/(main)/layout.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname, a: __turbopack_async_module__ } = __turbopack_context__;
__turbopack_async_module__(async (__turbopack_handle_async_dependencies__, __turbopack_async_result__) => { try {
__turbopack_context__.s({
    "default": (()=>Layout)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$nextstepjs$2f$dist$2f$index$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/nextstepjs/dist/index.js [app-rsc] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$nextstepjs$2f$dist$2f$NextStepContext$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/nextstepjs/dist/NextStepContext.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contexts$2f$AsideContext$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/contexts/AsideContext.tsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contexts$2f$RootContextProvider$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/contexts/RootContextProvider.tsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$assistantActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/server/actions/assistantActions.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$instructionsActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/server/actions/instructionsActions.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$userActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/server/actions/userActions.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$Layout$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/shared/Layout.tsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$onboarding$2f$OnboardingTour$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/shared/onboarding/OnboardingTour.tsx [app-rsc] (ecmascript)");
var __turbopack_async_dependencies__ = __turbopack_handle_async_dependencies__([
    __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$assistantActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__,
    __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$instructionsActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__
]);
([__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$assistantActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$instructionsActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__] = __turbopack_async_dependencies__.then ? (await __turbopack_async_dependencies__)() : __turbopack_async_dependencies__);
;
;
;
;
;
;
;
;
;
async function Layout({ sidebar, children }) {
    const assistantId = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$assistantActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getCurrentAssistant"])();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contexts$2f$RootContextProvider$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["RootContextProvider"], {
        firstStage$: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$instructionsActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getFirstStage"])(),
        assistants$: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$assistantActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getAssistants"])(),
        user$: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$userActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getUser"])(),
        sessionAssistantId: assistantId,
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contexts$2f$AsideContext$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["AsideContextProvider"], {
            isOpen: false,
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$Layout$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["MainLayout"], {
                    sidebarContent: sidebar,
                    children: children
                }, void 0, false, {
                    fileName: "[project]/src/app/(main)/layout.tsx",
                    lineNumber: 23,
                    columnNumber: 9
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$nextstepjs$2f$dist$2f$NextStepContext$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["NextStepProvider"], {
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$shared$2f$onboarding$2f$OnboardingTour$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"], {
                        user$: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$server$2f$actions$2f$userActions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getUser"])()
                    }, void 0, false, {
                        fileName: "[project]/src/app/(main)/layout.tsx",
                        lineNumber: 25,
                        columnNumber: 11
                    }, this)
                }, void 0, false, {
                    fileName: "[project]/src/app/(main)/layout.tsx",
                    lineNumber: 24,
                    columnNumber: 9
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/src/app/(main)/layout.tsx",
            lineNumber: 22,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/src/app/(main)/layout.tsx",
        lineNumber: 16,
        columnNumber: 5
    }, this);
}
__turbopack_async_result__();
} catch(e) { __turbopack_async_result__(e); } }, false);}),

};

//# sourceMappingURL=%5Broot-of-the-server%5D__4f77ca8a._.js.map